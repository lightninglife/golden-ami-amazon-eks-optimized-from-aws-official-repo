{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Amazon EKS AMI Build Specification","text":"<p>This repository contains resources and configuration scripts for building a custom Amazon EKS AMI with HashiCorp Packer. This is the same configuration that Amazon EKS uses to create the official Amazon EKS-optimized AMI.</p>"},{"location":"#getting-started","title":"\ud83d\ude80 Getting started","text":"<p>If you are new to Amazon EKS, we recommend that you follow our Getting Started chapter in the Amazon EKS User Guide. If you already have a cluster, and you want to launch a node group with your new AMI, see Launching Amazon EKS Worker Nodes.</p>"},{"location":"#pre-requisites","title":"\ud83d\udd22 Pre-requisites","text":"<p>You must have Packer version 1.8.0 or later installed on your local system. For more information, see Installing Packer in the Packer documentation. You must also have AWS account credentials configured so that Packer can make calls to AWS API operations on your behalf. For more information, see Authentication in the Packer documentation.</p>"},{"location":"#building-the-ami","title":"\ud83d\udc77 Building the AMI","text":"<p>A Makefile is provided to build the Amazon EKS Worker AMI, but it is just a small wrapper around invoking Packer directly. You can initiate the build process by running the following command in the root of this repository:</p> <pre><code># build an AMI with the latest Kubernetes version\nmake\n\n# build an AMI with a specific Kubernetes version\nmake k8s=1.29\n</code></pre> <p>The Makefile chooses a particular kubelet binary to use per Kubernetes version which you can view here.</p> <p>Note The default instance type to build this AMI does not qualify for the AWS free tier. You are charged for any instances created when building this AMI.</p>"},{"location":"#using-the-ami","title":"\ud83d\udc69\u200d\ud83d\udcbb Using the AMI","text":"<p>The AMI user guide has details about the AMI's internals, and the EKS user guide explains how to use a custom AMI in a managed node group.</p>"},{"location":"#security","title":"\ud83d\udd12 Security","text":"<p>For security issues or concerns, please do not open an issue or pull request on GitHub. Please report any suspected or confirmed security issues to AWS Security https://aws.amazon.com/security/vulnerability-reporting/</p>"},{"location":"#license-summary","title":"\u2696\ufe0f License Summary","text":"<p>This sample code is made available under a modified MIT license. See the LICENSE file.</p>"},{"location":"CHANGELOG/","title":"Changelog","text":""},{"location":"CHANGELOG/#ami-release-v20240202","title":"AMI Release v20240202","text":"<p>[!NOTE] This release addresses an issue with Kubernetes 1.29 that allowed the sandbox container image used by <code>containerd</code> to be garbage-collected by <code>kubelet</code>. More information is available in #1597.</p>"},{"location":"CHANGELOG/#whats-changed","title":"What's ChangedAMI Details","text":"<ul> <li>Use crictl to pull sandbox image by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1605</li> <li>Remove sandbox image from build-time cache by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1615</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20240129...v20240202</p> Kubernetes 1.29 AMI names Release version Included artifacts amazon-eks-node-1.29-v20240202 1.29.0-20240202 s3://amazon-eks/1.29.0/2024-01-04/ amazon-eks-gpu-node-1.29-v20240202 amazon-eks-arm64-node-1.29-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20240202 1.28.5-20240202 s3://amazon-eks/1.28.5/2024-01-04/ amazon-eks-gpu-node-1.28-v20240202 amazon-eks-arm64-node-1.28-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20240202 1.27.9-20240202 s3://amazon-eks/1.27.9/2024-01-04/ amazon-eks-gpu-node-1.27-v20240202 amazon-eks-arm64-node-1.27-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20240202 1.26.12-20240202 s3://amazon-eks/1.26.12/2024-01-04/ amazon-eks-gpu-node-1.26-v20240202 amazon-eks-arm64-node-1.26-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20240202 1.25.16-20240202 s3://amazon-eks/1.25.16/2024-01-04/ amazon-eks-gpu-node-1.25-v20240202 amazon-eks-arm64-node-1.25-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20240202 1.24.17-20240202 s3://amazon-eks/1.24.17/2024-01-04/ amazon-eks-gpu-node-1.24-v20240202 amazon-eks-arm64-node-1.24-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20240202 1.23.17-20240202 s3://amazon-eks/1.23.17/2024-01-04/ amazon-eks-gpu-node-1.23-v20240202 amazon-eks-arm64-node-1.23-v20240202 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.11-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.4.266-178.365.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.11-1.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20240129","title":"AMI Release v20240129","text":"<p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20240117...v20240129</p> AMI Details Kubernetes 1.29 AMI names Release version Included artifacts amazon-eks-node-1.29-v20240129 1.29.0-20240129 s3://amazon-eks/1.29.0/2024-01-04/ amazon-eks-gpu-node-1.29-v20240129 amazon-eks-arm64-node-1.29-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20240129 1.28.5-20240129 s3://amazon-eks/1.28.5/2024-01-04/ amazon-eks-gpu-node-1.28-v20240129 amazon-eks-arm64-node-1.28-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20240129 1.27.9-20240129 s3://amazon-eks/1.27.9/2024-01-04/ amazon-eks-gpu-node-1.27-v20240129 amazon-eks-arm64-node-1.27-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20240129 1.26.12-20240129 s3://amazon-eks/1.26.12/2024-01-04/ amazon-eks-gpu-node-1.26-v20240129 amazon-eks-arm64-node-1.26-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20240129 1.25.16-20240129 s3://amazon-eks/1.25.16/2024-01-04/ amazon-eks-gpu-node-1.25-v20240129 amazon-eks-arm64-node-1.25-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20240129 1.24.17-20240129 s3://amazon-eks/1.24.17/2024-01-04/ amazon-eks-gpu-node-1.24-v20240129 amazon-eks-arm64-node-1.24-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.10.205-195.807.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.11-1.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20240129 1.23.17-20240129 s3://amazon-eks/1.23.17/2024-01-04/ amazon-eks-gpu-node-1.23-v20240129 amazon-eks-arm64-node-1.23-v20240129 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.4.266-178.365.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.11-1.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20240117","title":"AMI Release v20240117","text":""},{"location":"CHANGELOG/#whats-changed_1","title":"What's ChangedAMI Details","text":"<ul> <li>Sync <code>al2023</code> branch to CodeCommit by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1571</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20240110...v20240117</p> Kubernetes 1.29 AMI names Release version Included artifacts amazon-eks-node-1.29-v20240117 1.29.0-20240117 s3://amazon-eks/1.29.0/2024-01-04/ amazon-eks-gpu-node-1.29-v20240117 amazon-eks-arm64-node-1.29-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20240117 1.28.5-20240117 s3://amazon-eks/1.28.5/2024-01-04/ amazon-eks-gpu-node-1.28-v20240117 amazon-eks-arm64-node-1.28-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20240117 1.27.9-20240117 s3://amazon-eks/1.27.9/2024-01-04/ amazon-eks-gpu-node-1.27-v20240117 amazon-eks-arm64-node-1.27-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20240117 1.26.12-20240117 s3://amazon-eks/1.26.12/2024-01-04/ amazon-eks-gpu-node-1.26-v20240117 amazon-eks-arm64-node-1.26-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20240117 1.25.16-20240117 s3://amazon-eks/1.25.16/2024-01-04/ amazon-eks-gpu-node-1.25-v20240117 amazon-eks-arm64-node-1.25-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20240117 1.24.17-20240117 s3://amazon-eks/1.24.17/2024-01-04/ amazon-eks-gpu-node-1.24-v20240117 amazon-eks-arm64-node-1.24-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20240117 1.23.17-20240117 s3://amazon-eks/1.23.17/2024-01-04/ amazon-eks-gpu-node-1.23-v20240117 amazon-eks-arm64-node-1.23-v20240117 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.4.265-176.364.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20240110","title":"AMI Release v20240110","text":"<p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231230...v20240110</p> AMI Details Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20240110 1.28.5-20240110 s3://amazon-eks/1.28.5/2024-01-04/ amazon-eks-gpu-node-1.28-v20240110 amazon-eks-arm64-node-1.28-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20240110 1.27.9-20240110 s3://amazon-eks/1.27.9/2024-01-04/ amazon-eks-gpu-node-1.27-v20240110 amazon-eks-arm64-node-1.27-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20240110 1.26.12-20240110 s3://amazon-eks/1.26.12/2024-01-04/ amazon-eks-gpu-node-1.26-v20240110 amazon-eks-arm64-node-1.26-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20240110 1.25.16-20240110 s3://amazon-eks/1.25.16/2024-01-04/ amazon-eks-gpu-node-1.25-v20240110 amazon-eks-arm64-node-1.25-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20240110 1.24.17-20240110 s3://amazon-eks/1.24.17/2024-01-04/ amazon-eks-gpu-node-1.24-v20240110 amazon-eks-arm64-node-1.24-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.10.205-195.804.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20240110 1.23.17-20240110 s3://amazon-eks/1.23.17/2024-01-04/ amazon-eks-gpu-node-1.23-v20240110 amazon-eks-arm64-node-1.23-v20240110 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.4 kernel 5.4.265-176.364.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231230","title":"AMI Release v20231230","text":""},{"location":"CHANGELOG/#whats-changed_2","title":"What's ChangedAMI Details","text":"<ul> <li>Revert \"Set containerd LimitNOFILE to recommended value (#1535)\" by @mmerkes in https://github.com/awslabs/amazon-eks-ami/pull/1552</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231220...v20231230</p> Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20231230 1.28.3-20231230 s3://amazon-eks/1.28.3/2023-11-14/ amazon-eks-gpu-node-1.28-v20231230 amazon-eks-arm64-node-1.28-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20231230 1.27.7-20231230 s3://amazon-eks/1.27.7/2023-11-14/ amazon-eks-gpu-node-1.27-v20231230 amazon-eks-arm64-node-1.27-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20231230 1.26.10-20231230 s3://amazon-eks/1.26.10/2023-11-14/ amazon-eks-gpu-node-1.26-v20231230 amazon-eks-arm64-node-1.26-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20231230 1.25.15-20231230 s3://amazon-eks/1.25.15/2023-11-14/ amazon-eks-gpu-node-1.25-v20231230 amazon-eks-arm64-node-1.25-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20231230 1.24.17-20231230 s3://amazon-eks/1.24.17/2023-11-14/ amazon-eks-gpu-node-1.24-v20231230 amazon-eks-arm64-node-1.24-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20231230 1.23.17-20231230 s3://amazon-eks/1.23.17/2023-11-14/ amazon-eks-gpu-node-1.23-v20231230 amazon-eks-arm64-node-1.23-v20231230 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.4.261-174.360.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231220","title":"AMI Release v20231220","text":""},{"location":"CHANGELOG/#whats-changed_3","title":"What's Changed","text":"<ul> <li>Set containerd LimitNOFILE to recommended value by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1535</li> <li>Update get-ecr-uri.sh with ca-west-1 account by @mmerkes in https://github.com/awslabs/amazon-eks-ami/pull/1542</li> <li>Fix typo opt names in <code>bootstrap.sh</code> logging by @ketozhang in https://github.com/awslabs/amazon-eks-ami/pull/1547</li> </ul>"},{"location":"CHANGELOG/#new-contributors","title":"New ContributorsAMI Details","text":"<ul> <li>@ketozhang made their first contribution in https://github.com/awslabs/amazon-eks-ami/pull/1547</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231201...v20231220</p> Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20231220 1.28.3-20231220 s3://amazon-eks/1.28.3/2023-11-14/ amazon-eks-gpu-node-1.28-v20231220 amazon-eks-arm64-node-1.28-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20231220 1.27.7-20231220 s3://amazon-eks/1.27.7/2023-11-14/ amazon-eks-gpu-node-1.27-v20231220 amazon-eks-arm64-node-1.27-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20231220 1.26.10-20231220 s3://amazon-eks/1.26.10/2023-11-14/ amazon-eks-gpu-node-1.26-v20231220 amazon-eks-arm64-node-1.26-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20231220 1.25.15-20231220 s3://amazon-eks/1.25.15/2023-11-14/ amazon-eks-gpu-node-1.25-v20231220 amazon-eks-arm64-node-1.25-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.2-1 efa 2.6.0-1.amzn2 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 535.129.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20231220 1.24.17-20231220 s3://amazon-eks/1.24.17/2023-11-14/ amazon-eks-gpu-node-1.24-v20231220 amazon-eks-arm64-node-1.24-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.10.201-191.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20231220 1.23.17-20231220 s3://amazon-eks/1.23.17/2023-11-14/ amazon-eks-gpu-node-1.23-v20231220 amazon-eks-arm64-node-1.23-v20231220 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.4.261-174.360.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231201","title":"AMI Release v20231201","text":""},{"location":"CHANGELOG/#whats-changed_4","title":"What's Changed","text":"<ul> <li>Check for ecr-fips endpoint availability by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1524</li> <li>Install SSM agent from AL core repo by default by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1531</li> <li>Update to <code>containerd</code> 1.7 by @cartermckinnon in https://github.com/awslabs/amazon-eks-ami/pull/1516</li> </ul>"},{"location":"CHANGELOG/#new-contributors_1","title":"New ContributorsAMI Details","text":"<ul> <li>@JoeNorth made their first contribution in https://github.com/awslabs/amazon-eks-ami/pull/1533</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231116...v20231201</p> Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20231201 1.28.3-20231201 s3://amazon-eks/1.28.3/2023-11-14/ amazon-eks-gpu-node-1.28-v20231201 amazon-eks-arm64-node-1.28-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.0-1 kernel 5.10.199-190.747.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20231201 1.27.7-20231201 s3://amazon-eks/1.27.7/2023-11-14/ amazon-eks-gpu-node-1.27-v20231201 amazon-eks-arm64-node-1.27-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.0-1 kernel 5.10.199-190.747.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20231201 1.26.10-20231201 s3://amazon-eks/1.26.10/2023-11-14/ amazon-eks-gpu-node-1.26-v20231201 amazon-eks-arm64-node-1.26-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.0-1 kernel 5.10.199-190.747.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20231201 1.25.15-20231201 s3://amazon-eks/1.25.15/2023-11-14/ amazon-eks-gpu-node-1.25-v20231201 amazon-eks-arm64-node-1.25-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 12.2.0-1 kernel 5.10.199-190.747.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20231201 1.24.17-20231201 s3://amazon-eks/1.24.17/2023-11-14/ amazon-eks-gpu-node-1.24-v20231201 amazon-eks-arm64-node-1.24-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.10.199-190.747.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20231201 1.23.17-20231201 s3://amazon-eks/1.23.17/2023-11-14/ amazon-eks-gpu-node-1.23-v20231201 amazon-eks-arm64-node-1.23-v20231201 Package Version amazon-ssm-agent 3.2.1705.0-1.amzn2 containerd 1.7.2-1.amzn2.0.1 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.4.259-173.361.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231116","title":"AMI Release v20231116","text":""},{"location":"CHANGELOG/#whats-changed_5","title":"What's Changed","text":"<ul> <li>Sets docker to the latest 20.10 version by @mmerkes in https://github.com/awslabs/amazon-eks-ami/pull/1510</li> </ul>"},{"location":"CHANGELOG/#new-contributors_2","title":"New ContributorsAMI Details","text":"<ul> <li>@edmondceausu made their first contribution in https://github.com/awslabs/amazon-eks-ami/pull/1504</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231106...v20231116</p> Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20231116 1.28.3-20231116 s3://amazon-eks/1.28.3/2023-11-14/ amazon-eks-gpu-node-1.28-v20231116 amazon-eks-arm64-node-1.28-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 12.2.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20231116 1.27.7-20231116 s3://amazon-eks/1.27.7/2023-11-14/ amazon-eks-gpu-node-1.27-v20231116 amazon-eks-arm64-node-1.27-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 12.2.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20231116 1.26.10-20231116 s3://amazon-eks/1.26.10/2023-11-14/ amazon-eks-gpu-node-1.26-v20231116 amazon-eks-arm64-node-1.26-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 12.2.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20231116 1.25.15-20231116 s3://amazon-eks/1.25.15/2023-11-14/ amazon-eks-gpu-node-1.25-v20231116 amazon-eks-arm64-node-1.25-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 12.2.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20231116 1.24.17-20231116 s3://amazon-eks/1.24.17/2023-11-14/ amazon-eks-gpu-node-1.24-v20231116 amazon-eks-arm64-node-1.24-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20231116 1.23.17-20231116 s3://amazon-eks/1.23.17/2023-11-14/ amazon-eks-gpu-node-1.23-v20231116 amazon-eks-arm64-node-1.23-v20231116 Package Version amazon-ssm-agent 3.2.1798.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 docker 20.10.25-1.amzn2.0.3 kernel 5.4.258-171.360.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.24 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.25 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231106","title":"AMI Release v20231106","text":""},{"location":"CHANGELOG/#whats-changed_6","title":"What's Changed","text":"<ul> <li>Add new i4i sizes to eni-max-pods.txt by @github-actions in https://github.com/awslabs/amazon-eks-ami/pull/1495</li> <li>Set nerdctl default namespace to k8s.io by @reegnz in https://github.com/awslabs/amazon-eks-ami/pull/1488</li> <li>Skip installing amazon-ssm-agent if already present by @pjaudiomv in https://github.com/awslabs/amazon-eks-ami/pull/1501</li> </ul>"},{"location":"CHANGELOG/#new-contributors_3","title":"New ContributorsAMI Details","text":"<ul> <li>@pjaudiomv made their first contribution in https://github.com/awslabs/amazon-eks-ami/pull/1501</li> </ul> <p>Full Changelog: https://github.com/awslabs/amazon-eks-ami/compare/v20231027...v20231106</p> Kubernetes 1.28 AMI names Release version Included artifacts amazon-eks-node-1.28-v20231106 1.28.3-20231106 s3://amazon-eks/1.28.3/2023-11-02/ amazon-eks-gpu-node-1.28-v20231106 amazon-eks-arm64-node-1.28-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 12.2.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 535.54.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.27 AMI names Release version Included artifacts amazon-eks-node-1.27-v20231106 1.27.7-20231106 s3://amazon-eks/1.27.7/2023-11-02/ amazon-eks-gpu-node-1.27-v20231106 amazon-eks-arm64-node-1.27-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.26 AMI names Release version Included artifacts amazon-eks-node-1.26-v20231106 1.26.10-20231106 s3://amazon-eks/1.26.10/2023-11-02/ amazon-eks-gpu-node-1.26-v20231106 amazon-eks-arm64-node-1.26-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.25 AMI names Release version Included artifacts amazon-eks-node-1.25-v20231106 1.25.15-20231106 s3://amazon-eks/1.25.15/2023-11-02/ amazon-eks-gpu-node-1.25-v20231106 amazon-eks-arm64-node-1.25-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.24 AMI names Release version Included artifacts amazon-eks-node-1.24-v20231106 1.24.17-20231106 s3://amazon-eks/1.24.17/2023-11-02/ amazon-eks-gpu-node-1.24-v20231106 amazon-eks-arm64-node-1.24-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 docker 20.10.23-1.amzn2.0.1 kernel 5.10.198-187.748.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 Kubernetes 1.23 AMI names Release version Included artifacts amazon-eks-node-1.23-v20231106 1.23.17-20231106 s3://amazon-eks/1.23.17/2023-11-02/ amazon-eks-gpu-node-1.23-v20231106 amazon-eks-arm64-node-1.23-v20231106 Package Version amazon-ssm-agent 3.2.1705.0-1 containerd 1.6.19-1.amzn2.0.5 cuda 11.4.0-1 docker 20.10.23-1.amzn2.0.1 kernel 5.4.258-171.360.amzn2 nvidia-driver-latest-dkms 470.182.03-1.el7 runc 1.1.7-4.amzn2 <p>Note A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in #1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution: - Kubernetes 1.27 and below: <code>5.4.254-170.358.amzn2</code> - Kubernetes 1.28 and above: <code>5.10.192-183.736.amzn2</code></p>"},{"location":"CHANGELOG/#ami-release-v20231027","title":"AMI Release v20231027","text":"<ul> <li>amazon-eks-gpu-node-1.28-v20231027</li> <li>amazon-eks-gpu-node-1.27-v20231027</li> <li>amazon-eks-gpu-node-1.26-v20231027</li> <li>amazon-eks-gpu-node-1.25-v20231027</li> <li>amazon-eks-gpu-node-1.24-v20231027</li> <li>amazon-eks-gpu-node-1.23-v20231027</li> <li>amazon-eks-arm64-node-1.28-v20231027</li> <li>amazon-eks-arm64-node-1.27-v20231027</li> <li>amazon-eks-arm64-node-1.26-v20231027</li> <li>amazon-eks-arm64-node-1.25-v20231027</li> <li>amazon-eks-arm64-node-1.24-v20231027</li> <li>amazon-eks-arm64-node-1.23-v20231027</li> <li>amazon-eks-node-1.28-v20231027</li> <li>amazon-eks-node-1.27-v20231027</li> <li>amazon-eks-node-1.26-v20231027</li> <li>amazon-eks-node-1.25-v20231027</li> <li>amazon-eks-node-1.24-v20231027</li> <li>amazon-eks-node-1.23-v20231027</li> </ul> <p>Release versions for these AMIs: * <code>1.28.2-20231027</code> * <code>1.27.6-20231027</code> * <code>1.26.9-20231027</code> * <code>1.25.14-20231027</code> * <code>1.24.17-20231027</code> * <code>1.23.17-20231027</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.28.2/2023-10-17/ * s3://amazon-eks/1.27.6/2023-10-17/ * s3://amazon-eks/1.26.9/2023-10-17/ * s3://amazon-eks/1.25.14/2023-10-17/ * s3://amazon-eks/1.24.17/2023-10-17/ * s3://amazon-eks/1.23.17/2023-10-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.257-170.359.amzn2   * Kubernetes 1.24 and above: 5.10.197-186.748.amzn2   * \u26a0\ufe0f Note: A recent change in the Linux kernel caused the EFA and NVIDIA drivers to be incompatible. More information is available in https://github.com/awslabs/amazon-eks-ami/issues/1494. To prevent unexpected failures, the kernel in the GPU AMI will remain at the following versions until we have determined a solution:     * Kubernetes 1.27 and below: 5.4.254-170.358.amzn2     * Kubernetes 1.28 and above: 5.10.192-183.736.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.5 * <code>runc</code>: 1.1.7-4.amzn2 * <code>cuda</code>: 12.2.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.2.1705.0-1</p> <p>Notable changes: - Add optional FIPS support (#1458) - Fix region in cached image names (#1461) - Update curl for ALAS-2023-2287 - Update kernel for ALASKERNEL-5.10-2023-039</p> <p>Minor changes: - Add r7i to eni-max-pods.txt (#1473) - Correctly tag cached images for us-gov-west-1 FIPS endpoint (#1476) - Add new i4i sizes to eni-max-pods.txt (#1495)</p>"},{"location":"CHANGELOG/#ami-release-v20231002","title":"AMI Release v20231002","text":"<ul> <li>amazon-eks-gpu-node-1.28-v20231002</li> <li>amazon-eks-gpu-node-1.27-v20231002</li> <li>amazon-eks-gpu-node-1.26-v20231002</li> <li>amazon-eks-gpu-node-1.25-v20231002</li> <li>amazon-eks-gpu-node-1.24-v20231002</li> <li>amazon-eks-gpu-node-1.23-v20231002</li> <li>amazon-eks-arm64-node-1.28-v20231002</li> <li>amazon-eks-arm64-node-1.27-v20231002</li> <li>amazon-eks-arm64-node-1.26-v20231002</li> <li>amazon-eks-arm64-node-1.25-v20231002</li> <li>amazon-eks-arm64-node-1.24-v20231002</li> <li>amazon-eks-arm64-node-1.23-v20231002</li> <li>amazon-eks-node-1.28-v20231002</li> <li>amazon-eks-node-1.27-v20231002</li> <li>amazon-eks-node-1.26-v20231002</li> <li>amazon-eks-node-1.25-v20231002</li> <li>amazon-eks-node-1.24-v20231002</li> <li>amazon-eks-node-1.23-v20231002</li> </ul> <p>Release versions for these AMIs: * <code>1.28.1-20231002</code> * <code>1.27.5-20231002</code> * <code>1.26.8-20231002</code> * <code>1.25.13-20231002</code> * <code>1.24.17-20231002</code> * <code>1.23.17-20231002</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.28.1/20230914/ * s3://amazon-eks/1.27.5/20230914/ * s3://amazon-eks/1.26.8/20230914/ * s3://amazon-eks/1.25.13/20230914/ * s3://amazon-eks/1.24.17/20230914/ * s3://amazon-eks/1.23.17/20230914/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.254-170.358.amzn2   * Kubernetes 1.24 and above: 5.10.192-183.736.amzn2   * Note that the GPU AMI on Kubernetes 1.27 and below will continue to use kernel-5.4 as we work to address a compatibility issue with <code>nvidia-driver-latest-dkms</code>. * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.3 * <code>runc</code>: 1.1.7-3.amzn2 * <code>cuda</code>: 12.2.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.2.1630.0-1</p> <p>Notable changes:   - SSM agent upgraded to <code>3.2.1630.0-1</code>   - Update <code>libssh2</code> for ALAS-2023-2257</p>"},{"location":"CHANGELOG/#ami-release-v20230919","title":"AMI Release v20230919","text":"<ul> <li>amazon-eks-gpu-node-1.28-v20230919</li> <li>amazon-eks-gpu-node-1.27-v20230919</li> <li>amazon-eks-gpu-node-1.26-v20230919</li> <li>amazon-eks-gpu-node-1.25-v20230919</li> <li>amazon-eks-gpu-node-1.24-v20230919</li> <li>amazon-eks-gpu-node-1.23-v20230919</li> <li>amazon-eks-arm64-node-1.28-v20230919</li> <li>amazon-eks-arm64-node-1.27-v20230919</li> <li>amazon-eks-arm64-node-1.26-v20230919</li> <li>amazon-eks-arm64-node-1.25-v20230919</li> <li>amazon-eks-arm64-node-1.24-v20230919</li> <li>amazon-eks-arm64-node-1.23-v20230919</li> <li>amazon-eks-node-1.28-v20230919</li> <li>amazon-eks-node-1.27-v20230919</li> <li>amazon-eks-node-1.26-v20230919</li> <li>amazon-eks-node-1.25-v20230919</li> <li>amazon-eks-node-1.24-v20230919</li> <li>amazon-eks-node-1.23-v20230919</li> </ul> <p>Release versions for these AMIs: * <code>1.28.1-20230919</code> * <code>1.27.5-20230919</code> * <code>1.26.8-20230919</code> * <code>1.25.13-20230919</code> * <code>1.24.17-20230919</code> * <code>1.23.17-20230919</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.28.1/20230914/ * s3://amazon-eks/1.27.5/20230914/ * s3://amazon-eks/1.26.8/20230914/ * s3://amazon-eks/1.25.13/20230914/ * s3://amazon-eks/1.24.17/20230914/ * s3://amazon-eks/1.23.17/20230914/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.254-170.358.amzn2   * Kubernetes 1.24 and above: 5.10.192-183.736.amzn2   * Note that the GPU AMI on Kubernetes 1.27 and below will continue to use kernel-5.4 due to a compatibility issue with <code>nvidia-driver-latest-dkms</code>. * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.3 * <code>runc</code>: 1.1.7-3.amzn2 * <code>cuda</code>: 12.2.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.2.1542.0-1</p> <p>Notable changes:   - kernel-5.10 updated to address:     - ALAS2KERNEL-5.10-2023-039   - Add support for Kubernetes 1.28 (#1431)   - GPU AMI:     - Released with Neuron version 2.14.0   - GPU AMIs on Kubernetes 1.28 and above:     - Upgraded <code>kernel</code> to 5.10     - Upgraded <code>cuda</code> version to 12.2     - Upgraded Nvidia driver to 535.54.03-1     - Installed EFA version 1.26.1     - Limited deeper sleep states</p>"},{"location":"CHANGELOG/#ami-release-v20230825","title":"AMI Release v20230825","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230825</li> <li>amazon-eks-gpu-node-1.26-v20230825</li> <li>amazon-eks-gpu-node-1.25-v20230825</li> <li>amazon-eks-gpu-node-1.24-v20230825</li> <li>amazon-eks-gpu-node-1.23-v20230825</li> <li>amazon-eks-arm64-node-1.27-v20230825</li> <li>amazon-eks-arm64-node-1.26-v20230825</li> <li>amazon-eks-arm64-node-1.25-v20230825</li> <li>amazon-eks-arm64-node-1.24-v20230825</li> <li>amazon-eks-arm64-node-1.23-v20230825</li> <li>amazon-eks-node-1.27-v20230825</li> <li>amazon-eks-node-1.26-v20230825</li> <li>amazon-eks-node-1.25-v20230825</li> <li>amazon-eks-node-1.24-v20230825</li> <li>amazon-eks-node-1.23-v20230825</li> </ul> <p>Release versions for these AMIs: * <code>1.27.4-20230825</code> * <code>1.26.7-20230825</code> * <code>1.25.12-20230825</code> * <code>1.24.16-20230825</code> * <code>1.23.17-20230825</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.4/2023-08-16/ * s3://amazon-eks/1.26.7/2023-08-16/ * s3://amazon-eks/1.25.12/2023-08-16/ * s3://amazon-eks/1.24.16/2023-08-16/ * s3://amazon-eks/1.23.17/2023-08-16/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.253-167.359.amzn2   * Kubernetes 1.24 and above: 5.10.186-179.751.amzn2   * Note that the GPU AMI will continue to use kernel-5.4 as we work to address a compatibility issue with <code>nvidia-driver-latest-dkms</code>. * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.3 * <code>runc</code>: 1.1.7-3.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.2.1478.0-1</p> <p>Notable changes:   - containerd updated to address:     - ALAS2DOCKER-2023-029   - runc updated to address:     - ALAS2DOCKER-2023-028   - Fetch new IMDS token for every request. (#1395)</p>"},{"location":"CHANGELOG/#ami-release-v20230816","title":"AMI Release v20230816","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230816</li> <li>amazon-eks-gpu-node-1.26-v20230816</li> <li>amazon-eks-gpu-node-1.25-v20230816</li> <li>amazon-eks-gpu-node-1.24-v20230816</li> <li>amazon-eks-gpu-node-1.23-v20230816</li> <li>amazon-eks-arm64-node-1.27-v20230816</li> <li>amazon-eks-arm64-node-1.26-v20230816</li> <li>amazon-eks-arm64-node-1.25-v20230816</li> <li>amazon-eks-arm64-node-1.24-v20230816</li> <li>amazon-eks-arm64-node-1.23-v20230816</li> <li>amazon-eks-node-1.27-v20230816</li> <li>amazon-eks-node-1.26-v20230816</li> <li>amazon-eks-node-1.25-v20230816</li> <li>amazon-eks-node-1.24-v20230816</li> <li>amazon-eks-node-1.23-v20230816</li> </ul> <p>Release versions for these AMIs: * <code>1.27.3-20230816</code> * <code>1.26.6-20230816</code> * <code>1.25.11-20230816</code> * <code>1.24.15-20230816</code> * <code>1.23.17-20230816</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.3/2023-08-14/ * s3://amazon-eks/1.26.6/2023-08-14/ * s3://amazon-eks/1.25.11/2023-08-14/ * s3://amazon-eks/1.24.15/2023-08-14/ * s3://amazon-eks/1.23.17/2023-08-15/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.250-166.369.amzn2   * Kubernetes 1.24 and above: 5.10.186-179.751.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.7-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.2.1377.0-1 Notable changes: - Install latest runc <code>1.1.*</code> (#1384). - Install latest amazon-ssm-agent from S3 (#1370). - <code>kernel</code> updated to address:   - ALASKERNEL-5.4-2023-050   - ALASKERNEL-5.10-2023-038</p> <p>Other changes: - Do not set <code>KubeletCredentialProviders</code> feature flag for 1.28+ (#1375) - Cache IMDS tokens per-user (#1386)</p>"},{"location":"CHANGELOG/#ami-release-v20230728","title":"AMI Release v20230728","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230728</li> <li>amazon-eks-gpu-node-1.26-v20230728</li> <li>amazon-eks-gpu-node-1.25-v20230728</li> <li>amazon-eks-gpu-node-1.24-v20230728</li> <li>amazon-eks-gpu-node-1.23-v20230728</li> <li>amazon-eks-arm64-node-1.27-v20230728</li> <li>amazon-eks-arm64-node-1.26-v20230728</li> <li>amazon-eks-arm64-node-1.25-v20230728</li> <li>amazon-eks-arm64-node-1.24-v20230728</li> <li>amazon-eks-arm64-node-1.23-v20230728</li> <li>amazon-eks-node-1.27-v20230728</li> <li>amazon-eks-node-1.26-v20230728</li> <li>amazon-eks-node-1.25-v20230728</li> <li>amazon-eks-node-1.24-v20230728</li> <li>amazon-eks-node-1.23-v20230728</li> </ul> <p>Release versions for these AMIs: * <code>1.27.3-20230728</code> * <code>1.26.6-20230728</code> * <code>1.25.11-20230728</code> * <code>1.24.15-20230728</code> * <code>1.23.17-20230728</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.3/2023-06-30/ * s3://amazon-eks/1.26.6/2023-06-30/ * s3://amazon-eks/1.25.11/2023-06-30/ * s3://amazon-eks/1.24.15/2023-06-30/ * s3://amazon-eks/1.23.17/2023-06-30/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.249-163.359.amzn2   * Kubernetes 1.24 and above: 5.10.184-175.749.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.5-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Kernel fix for <code>CVE-2023-3117</code> and <code>CVE-2023-35001</code> with new versions: 5.10 kernel and 5.4 kernel - Mount bpffs on all supported Kubernetes versions. (#1349) - Enable discard_unpacked_layers by default to clean up compressed image layers in containerd's content store.(#1360)</p>"},{"location":"CHANGELOG/#ami-release-v20230711","title":"AMI Release v20230711","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230711</li> <li>amazon-eks-gpu-node-1.26-v20230711</li> <li>amazon-eks-gpu-node-1.25-v20230711</li> <li>amazon-eks-gpu-node-1.24-v20230711</li> <li>amazon-eks-gpu-node-1.23-v20230711</li> <li>amazon-eks-arm64-node-1.27-v20230711</li> <li>amazon-eks-arm64-node-1.26-v20230711</li> <li>amazon-eks-arm64-node-1.25-v20230711</li> <li>amazon-eks-arm64-node-1.24-v20230711</li> <li>amazon-eks-arm64-node-1.23-v20230711</li> <li>amazon-eks-node-1.27-v20230711</li> <li>amazon-eks-node-1.26-v20230711</li> <li>amazon-eks-node-1.25-v20230711</li> <li>amazon-eks-node-1.24-v20230711</li> <li>amazon-eks-node-1.23-v20230711</li> </ul> <p>Release versions for these AMIs: * <code>1.27.3-20230711</code> * <code>1.26.6-20230711</code> * <code>1.25.11-20230711</code> * <code>1.24.15-20230711</code> * <code>1.23.17-20230711</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.3/2023-06-30/ * s3://amazon-eks/1.26.6/2023-06-30/ * s3://amazon-eks/1.25.11/2023-06-30/ * s3://amazon-eks/1.24.15/2023-06-30/ * s3://amazon-eks/1.23.17/2023-06-30/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.247-162.350.amzn2   * Kubernetes 1.24 and above: 5.10.184-175.731.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.5-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Kubelet versions bumped up for k8s version 1.23-1.27 to address bug - Source VPC CNI plugin version bumped from 0.8.0 to 1.2.0</p>"},{"location":"CHANGELOG/#ami-release-v20230703","title":"AMI Release v20230703","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230703</li> <li>amazon-eks-gpu-node-1.26-v20230703</li> <li>amazon-eks-gpu-node-1.25-v20230703</li> <li>amazon-eks-gpu-node-1.24-v20230703</li> <li>amazon-eks-gpu-node-1.23-v20230703</li> <li>amazon-eks-gpu-node-1.22-v20230703</li> <li>amazon-eks-arm64-node-1.27-v20230703</li> <li>amazon-eks-arm64-node-1.26-v20230703</li> <li>amazon-eks-arm64-node-1.25-v20230703</li> <li>amazon-eks-arm64-node-1.24-v20230703</li> <li>amazon-eks-arm64-node-1.23-v20230703</li> <li>amazon-eks-arm64-node-1.22-v20230703</li> <li>amazon-eks-node-1.27-v20230703</li> <li>amazon-eks-node-1.26-v20230703</li> <li>amazon-eks-node-1.25-v20230703</li> <li>amazon-eks-node-1.24-v20230703</li> <li>amazon-eks-node-1.23-v20230703</li> <li>amazon-eks-node-1.22-v20230703</li> </ul> <p>Release versions for these AMIs: * <code>1.27.1-20230703</code> * <code>1.26.4-20230703</code> * <code>1.25.9-20230703</code> * <code>1.24.13-20230703</code> * <code>1.23.17-20230703</code> * <code>1.22.17-20230703</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.1/2023-04-19/ * s3://amazon-eks/1.26.4/2023-05-11/ * s3://amazon-eks/1.25.9/2023-05-11/ * s3://amazon-eks/1.24.13/2023-05-11/ * s3://amazon-eks/1.23.17/2023-05-11/ * s3://amazon-eks/1.22.17/2023-05-11/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.247-162.350.amzn2   * Kubernetes 1.24 and above: 5.10.184-175.731.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.5-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - This is the last AMI release for Kubernetes 1.22 - Update Kernel to 5.4.247-162.350.amzn2 to address ALASKERNEL-5.4-2023-048, CVE-2023-1206 - Update Kernel to 5.10.184-175.731.amzn2 to address ALASKERNEL-5.10-2023-035, CVE-2023-1206 - Use recommended clocksources (#1328) - Add configurable working directory (#1231) - Update eni-max-pods.txt (#1330) - Mount bpffs by default on 1.25+ (#1320)</p>"},{"location":"CHANGELOG/#ami-release-v20230607","title":"AMI Release v20230607","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230607</li> <li>amazon-eks-gpu-node-1.26-v20230607</li> <li>amazon-eks-gpu-node-1.25-v20230607</li> <li>amazon-eks-gpu-node-1.24-v20230607</li> <li>amazon-eks-gpu-node-1.23-v20230607</li> <li>amazon-eks-gpu-node-1.22-v20230607</li> <li>amazon-eks-arm64-node-1.27-v20230607</li> <li>amazon-eks-arm64-node-1.26-v20230607</li> <li>amazon-eks-arm64-node-1.25-v20230607</li> <li>amazon-eks-arm64-node-1.24-v20230607</li> <li>amazon-eks-arm64-node-1.23-v20230607</li> <li>amazon-eks-arm64-node-1.22-v20230607</li> <li>amazon-eks-node-1.27-v20230607</li> <li>amazon-eks-node-1.26-v20230607</li> <li>amazon-eks-node-1.25-v20230607</li> <li>amazon-eks-node-1.24-v20230607</li> <li>amazon-eks-node-1.23-v20230607</li> <li>amazon-eks-node-1.22-v20230607</li> </ul> <p>Release versions for these AMIs: * <code>1.27.1-20230607</code> * <code>1.26.4-20230607</code> * <code>1.25.9-20230607</code> * <code>1.24.13-20230607</code> * <code>1.23.17-20230607</code> * <code>1.22.17-20230607</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.1/2023-04-19/ * s3://amazon-eks/1.26.4/2023-05-11/ * s3://amazon-eks/1.25.9/2023-05-11/ * s3://amazon-eks/1.24.13/2023-05-11/ * s3://amazon-eks/1.23.17/2023-05-11/ * s3://amazon-eks/1.22.17/2023-05-11/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.242-156.349.amzn2   * Kubernetes 1.24 and above: 5.10.179-168.710.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.5-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * <code>5.4</code> kernel update to <code>5.4.242-156.349.amzn2</code> and <code>5.10</code> kernel update to <code>5.10.179-168.710.amzn2</code> address CVE-2023-32233 * Updating <code>runc</code> version to <code>1.1.5-1.amzn2</code> which contains fixes for CVE-2023-28642 and CVE-2023-27561.</p>"},{"location":"CHANGELOG/#ami-release-v20230526","title":"AMI Release v20230526","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230526</li> <li>amazon-eks-gpu-node-1.26-v20230526</li> <li>amazon-eks-gpu-node-1.25-v20230526</li> <li>amazon-eks-gpu-node-1.24-v20230526</li> <li>amazon-eks-gpu-node-1.23-v20230526</li> <li>amazon-eks-gpu-node-1.22-v20230526</li> <li>amazon-eks-arm64-node-1.27-v20230526</li> <li>amazon-eks-arm64-node-1.26-v20230526</li> <li>amazon-eks-arm64-node-1.25-v20230526</li> <li>amazon-eks-arm64-node-1.24-v20230526</li> <li>amazon-eks-arm64-node-1.23-v20230526</li> <li>amazon-eks-arm64-node-1.22-v20230526</li> <li>amazon-eks-node-1.27-v20230526</li> <li>amazon-eks-node-1.26-v20230526</li> <li>amazon-eks-node-1.25-v20230526</li> <li>amazon-eks-node-1.24-v20230526</li> <li>amazon-eks-node-1.23-v20230526</li> <li>amazon-eks-node-1.22-v20230526</li> </ul> <p>Release versions for these AMIs: * <code>1.27.1-20230526</code> * <code>1.26.4-20230526</code> * <code>1.25.9-20230526</code> * <code>1.24.13-20230526</code> * <code>1.23.17-20230526</code> * <code>1.22.17-20230526</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.1/2023-04-19/ * s3://amazon-eks/1.26.4/2023-05-11/ * s3://amazon-eks/1.25.9/2023-05-11/ * s3://amazon-eks/1.24.13/2023-05-11/ * s3://amazon-eks/1.23.17/2023-05-11/ * s3://amazon-eks/1.22.17/2023-05-11/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.242-155.348.amzn2   * Kubernetes 1.24 and above: 5.10.179-166.674.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * <code>5.4</code> kernel update to <code>5.4.242-155.348.amzn2</code> addresses CVE ALAS2KERNEL-5.4-2023-045 * <code>5.10</code> kernel update to <code>5.10.179-166.674.amzn2</code> addresses ALAS2KERNEL-5.10-2023-032 * <code>Glib</code> update to <code>glib2-2.56.1-9.amzn2</code> addresses ALAS-2023-2049</p>"},{"location":"CHANGELOG/#ami-release-v20230513","title":"AMI Release v20230513","text":"<ul> <li>amazon-eks-gpu-node-1.27-v20230513</li> <li>amazon-eks-gpu-node-1.26-v20230513</li> <li>amazon-eks-gpu-node-1.25-v20230513</li> <li>amazon-eks-gpu-node-1.24-v20230513</li> <li>amazon-eks-gpu-node-1.23-v20230513</li> <li>amazon-eks-gpu-node-1.22-v20230513</li> <li>amazon-eks-arm64-node-1.27-v20230513</li> <li>amazon-eks-arm64-node-1.26-v20230513</li> <li>amazon-eks-arm64-node-1.25-v20230513</li> <li>amazon-eks-arm64-node-1.24-v20230513</li> <li>amazon-eks-arm64-node-1.23-v20230513</li> <li>amazon-eks-arm64-node-1.22-v20230513</li> <li>amazon-eks-node-1.27-v20230513</li> <li>amazon-eks-node-1.26-v20230513</li> <li>amazon-eks-node-1.25-v20230513</li> <li>amazon-eks-node-1.24-v20230513</li> <li>amazon-eks-node-1.23-v20230513</li> <li>amazon-eks-node-1.22-v20230513</li> </ul> <p>Release versions for these AMIs: * <code>1.27.1-20230513</code> * <code>1.26.4-20230513</code> * <code>1.25.9-20230513</code> * <code>1.24.13-20230513</code> * <code>1.23.17-20230513</code> * <code>1.22.17-20230513</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.27.1/2023-04-19/ * s3://amazon-eks/1.26.4/2023-05-11/ * s3://amazon-eks/1.25.9/2023-05-11/ * s3://amazon-eks/1.24.13/2023-05-11/ * s3://amazon-eks/1.23.17/2023-05-11/ * s3://amazon-eks/1.22.17/2023-05-11/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.241-150.347.amzn2   * Kubernetes 1.24 and above: 5.10.178-162.673.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes:  - Add support for Kubernetes 1.27 (#1300)</p> <p>Other changes:  - Updated max pods for i4g instance types (#1296)</p>"},{"location":"CHANGELOG/#ami-release-v20230509","title":"AMI Release v20230509","text":"<ul> <li>amazon-eks-gpu-node-1.26-v20230509</li> <li>amazon-eks-gpu-node-1.25-v20230509</li> <li>amazon-eks-gpu-node-1.24-v20230509</li> <li>amazon-eks-gpu-node-1.23-v20230509</li> <li>amazon-eks-gpu-node-1.22-v20230509</li> <li>amazon-eks-arm64-node-1.26-v20230509</li> <li>amazon-eks-arm64-node-1.25-v20230509</li> <li>amazon-eks-arm64-node-1.24-v20230509</li> <li>amazon-eks-arm64-node-1.23-v20230509</li> <li>amazon-eks-arm64-node-1.22-v20230509</li> <li>amazon-eks-node-1.26-v20230509</li> <li>amazon-eks-node-1.25-v20230509</li> <li>amazon-eks-node-1.24-v20230509</li> <li>amazon-eks-node-1.23-v20230509</li> <li>amazon-eks-node-1.22-v20230509</li> </ul> <p>Release versions for these AMIs: * <code>1.26.2-20230509</code> * <code>1.25.7-20230509</code> * <code>1.24.11-20230509</code> * <code>1.23.17-20230509</code> * <code>1.22.17-20230509</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.26.2/2023-03-17/ * s3://amazon-eks/1.25.7/2023-03-17/ * s3://amazon-eks/1.24.11/2023-03-17/ * s3://amazon-eks/1.23.17/2023-03-17/ * s3://amazon-eks/1.22.17/2023-03-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.241-150.347.amzn2   * Kubernetes 1.24 and above: 5.10.178-162.673.amzn2 * <code>dockerd</code>: 20.10.23-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - The new AMIs have updated docker version 20.10.23-1.amzn2.0.1 that addresses two docker CVEs; CVE-2022-36109 - docker  and CVE-2022-37708 - docker. - For the GPU Variants of these AMIs, the Nvidia Fabric Manager version is upgraded from 470.161.03-1 to 470.182.03-1. - Fix ECR pattern for aws-cn (#1280) - Fix imds setting for multiple enis on ipv6 (1275)</p>"},{"location":"CHANGELOG/#ami-release-v20230501","title":"AMI Release v20230501","text":"<ul> <li>amazon-eks-gpu-node-1.26-v20230501</li> <li>amazon-eks-gpu-node-1.25-v20230501</li> <li>amazon-eks-gpu-node-1.24-v20230501</li> <li>amazon-eks-gpu-node-1.23-v20230501</li> <li>amazon-eks-gpu-node-1.22-v20230501</li> <li>amazon-eks-arm64-node-1.26-v20230501</li> <li>amazon-eks-arm64-node-1.25-v20230501</li> <li>amazon-eks-arm64-node-1.24-v20230501</li> <li>amazon-eks-arm64-node-1.23-v20230501</li> <li>amazon-eks-arm64-node-1.22-v20230501</li> <li>amazon-eks-node-1.26-v20230501</li> <li>amazon-eks-node-1.25-v20230501</li> <li>amazon-eks-node-1.24-v20230501</li> <li>amazon-eks-node-1.23-v20230501</li> <li>amazon-eks-node-1.22-v20230501</li> </ul> <p>Release versions for these AMIs: * <code>1.26.2-20230501</code> * <code>1.25.7-20230501</code> * <code>1.24.11-20230501</code> * <code>1.23.17-20230501</code> * <code>1.22.17-20230501</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.26.2/2023-03-17/ * s3://amazon-eks/1.25.7/2023-03-17/ * s3://amazon-eks/1.24.11/2023-03-17/ * s3://amazon-eks/1.23.17/2023-03-17/ * s3://amazon-eks/1.22.17/2023-03-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.241-150.347.amzn2   * Kubernetes 1.24 and above: 5.10.178-162.673.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Add bootstrap option to create a local NVMe raid0 or individual volume mounts (#1171) - Improve bootstrap logging (#1276) - Use credential provider API v1 in 1.27+, v1alpha1 in 1.26- (#1269) - Override hostname to match EC2's PrivateDnsName (#1264) - Add ethtool (#1261) - Update <code>kernel-5.10</code> for ALASKERNEL-5.10-2023-031 - Kernel version upgrade to <code>5.10.178-162.673.amzn2</code> fixes the Containers failing to create and probe exec errors related to seccomp on recent kernel-5.10 versions issue</p>"},{"location":"CHANGELOG/#ami-release-v20230411","title":"AMI Release v20230411","text":"<ul> <li>amazon-eks-gpu-node-1.26-v20230411</li> <li>amazon-eks-gpu-node-1.25-v20230411</li> <li>amazon-eks-gpu-node-1.24-v20230411</li> <li>amazon-eks-gpu-node-1.23-v20230411</li> <li>amazon-eks-gpu-node-1.22-v20230411</li> <li>amazon-eks-arm64-node-1.26-v20230411</li> <li>amazon-eks-arm64-node-1.25-v20230411</li> <li>amazon-eks-arm64-node-1.24-v20230411</li> <li>amazon-eks-arm64-node-1.23-v20230411</li> <li>amazon-eks-arm64-node-1.22-v20230411</li> <li>amazon-eks-node-1.26-v20230411</li> <li>amazon-eks-node-1.25-v20230411</li> <li>amazon-eks-node-1.24-v20230411</li> <li>amazon-eks-node-1.23-v20230411</li> <li>amazon-eks-node-1.22-v20230411</li> </ul> <p>Release versions for these AMIs: * <code>1.26.2-20230411</code> * <code>1.25.7-20230411</code> * <code>1.24.11-20230411</code> * <code>1.23.17-20230411</code> * <code>1.22.17-20230411</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.26.2/2023-03-17/ * s3://amazon-eks/1.25.7/2023-03-17/ * s3://amazon-eks/1.24.11/2023-03-17/ * s3://amazon-eks/1.23.17/2023-03-17/ * s3://amazon-eks/1.22.17/2023-03-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.238-148.347.amzn2   * Kubernetes 1.24 and above: 5.10.176-157.645.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0</p> <p>Notable changes: - The AMI changes include update for 5.4 kernel version from <code>5.4.238-148.346.amzn2</code> to <code>kernel-5.4.238-148.347.amzn2</code>.  <code>kernel-5.4.238-148.346</code> had a fatal issue affecting SMB mounts in which a null pointer dereference caused a panic. As a result, this package was removed from the Amazon Linux 2 repositories.</p>"},{"location":"CHANGELOG/#ami-release-v20230406","title":"AMI Release v20230406","text":"<ul> <li>amazon-eks-gpu-node-1.26-v20230406</li> <li>amazon-eks-gpu-node-1.25-v20230406</li> <li>amazon-eks-gpu-node-1.24-v20230406</li> <li>amazon-eks-gpu-node-1.23-v20230406</li> <li>amazon-eks-gpu-node-1.22-v20230406</li> <li>amazon-eks-arm64-node-1.26-v20230406</li> <li>amazon-eks-arm64-node-1.25-v20230406</li> <li>amazon-eks-arm64-node-1.24-v20230406</li> <li>amazon-eks-arm64-node-1.23-v20230406</li> <li>amazon-eks-arm64-node-1.22-v20230406</li> <li>amazon-eks-node-1.26-v20230406</li> <li>amazon-eks-node-1.25-v20230406</li> <li>amazon-eks-node-1.24-v20230406</li> <li>amazon-eks-node-1.23-v20230406</li> <li>amazon-eks-node-1.22-v20230406</li> </ul> <p>Release versions for these AMIs: * <code>1.26.2-20230406</code> * <code>1.25.7-20230406</code> * <code>1.24.11-20230406</code> * <code>1.23.17-20230406</code> * <code>1.22.17-20230406</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.26.2/2023-03-17/ * s3://amazon-eks/1.25.7/2023-03-17/ * s3://amazon-eks/1.24.11/2023-03-17/ * s3://amazon-eks/1.23.17/2023-03-17/ * s3://amazon-eks/1.22.17/2023-03-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.238-148.346.amzn2   * Kubernetes 1.24 and above: 5.10.173-154.642.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.19-1.amzn2.0.1 * <code>runc</code>: 1.1.4 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0</p> <p>Notable changes: - Add support for Kubernetes 1.26 (#1246) - Add support <code>inf2</code>, <code>trn1n</code> instance types (#1251) - Updated <code>containerd</code> to address:   - ALASDOCKER-2023-023 - Fixed <code>ecr-credential-provider</code> flags not being passed correctly to <code>kubelet</code> (#1240)   - Added <code>--image-credential-provider-config</code> and <code>--image-credential-provider-bin-dir</code> flags to the <code>systemd</code> units.   - Set <code>KubeletCredentialProviders</code> feature flag to <code>true</code> in the <code>kubelet</code> JSON config.</p> <p>Other changes: - Use <code>gp3 volume_type</code> for 1.27+ (#1197) - Use default kubelet API QPS for 1.27+ (#1241) - Remove <code>--container-runtime</code> kubelet flag for 1.27+ (#1250)</p>"},{"location":"CHANGELOG/#ami-release-v20230322","title":"AMI Release v20230322","text":"<ul> <li>amazon-eks-gpu-node-1.25-v20230322</li> <li>amazon-eks-gpu-node-1.24-v20230322</li> <li>amazon-eks-gpu-node-1.23-v20230322</li> <li>amazon-eks-gpu-node-1.22-v20230322</li> <li>amazon-eks-arm64-node-1.25-v20230322</li> <li>amazon-eks-arm64-node-1.24-v20230322</li> <li>amazon-eks-arm64-node-1.23-v20230322</li> <li>amazon-eks-arm64-node-1.22-v20230322</li> <li>amazon-eks-node-1.25-v20230322</li> <li>amazon-eks-node-1.24-v20230322</li> <li>amazon-eks-node-1.23-v20230322</li> <li>amazon-eks-node-1.22-v20230322</li> </ul> <p>Release versions for these AMIs: * <code>1.25.7-20230322</code> * <code>1.24.11-20230322</code> * <code>1.23.17-20230322</code> * <code>1.22.17-20230322</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.25.7/2023-03-17/ * s3://amazon-eks/1.24.11/2023-03-17/ * s3://amazon-eks/1.23.17/2023-03-17/ * s3://amazon-eks/1.22.17/2023-03-17/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.235-144.344.amzn2   * Kubernetes 1.24 and above: 5.10.173-154.642.amzn2   * The GPU AMI will continue to use <code>kernel-5.4</code> for all Kubernetes versions as we work to address a compatibility issue with <code>nvidia-driver-latest-dkms</code> (#1222). * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that with Kubernetes 1.25+, Docker is only installed on GPU AMI's. This is subject to change as we remove unnecessary dependencies, and we recommend completing the migration to <code>containerd</code> immediately. * <code>containerd</code>: 1.6.6-1.amzn2.0.2 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Validate package versionlocks (#1195) - Updated <code>kernel-5.4</code> to address:   - ALASKERNEL-5.4-2023-043 - Updated <code>kernel-5.10</code> to address:   - ALASKERNEL-5.10-2023-027   - ALASKERNEL-5.10-2023-028</p>"},{"location":"CHANGELOG/#ami-release-v20230304","title":"AMI Release v20230304","text":"<ul> <li>amazon-eks-gpu-node-1.25-v20230304</li> <li>amazon-eks-gpu-node-1.24-v20230304</li> <li>amazon-eks-gpu-node-1.23-v20230304</li> <li>amazon-eks-gpu-node-1.22-v20230304</li> <li>amazon-eks-gpu-node-1.21-v20230304</li> <li>amazon-eks-arm64-node-1.25-v20230304</li> <li>amazon-eks-arm64-node-1.24-v20230304</li> <li>amazon-eks-arm64-node-1.23-v20230304</li> <li>amazon-eks-arm64-node-1.22-v20230304</li> <li>amazon-eks-arm64-node-1.21-v20230304</li> <li>amazon-eks-node-1.25-v20230304</li> <li>amazon-eks-node-1.24-v20230304</li> <li>amazon-eks-node-1.23-v20230304</li> <li>amazon-eks-node-1.22-v20230304</li> <li>amazon-eks-node-1.21-v20230304</li> </ul> <p>Release versions for these AMIs: * <code>1.25.6-20230304</code> * <code>1.24.10-20230304</code> * <code>1.23.16-20230304</code> * <code>1.22.17-20230304</code> * <code>1.21.14-20230304</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.25.6/20230130/ * s3://amazon-eks/1.24.10/20230130/ * s3://amazon-eks/1.23.16/20230130/ * s3://amazon-eks/1.22.17/20230130/ * s3://amazon-eks/1.21.14/20230130/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.231-137.341.amzn2   * Kubernetes 1.24 and above: 5.10.167-147.601.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that with Kubernetes 1.25+, Docker is only installed on GPU AMI's. This is subject to change as we remove unnecessary dependencies, and we recommend completing the migration to <code>containerd</code> immediately. * <code>containerd</code>: 1.6.6-1.amzn2.0.2 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - This is the last AMI release for Kubernetes 1.21 - This is the first AMI release available in <code>ap-southeast-4</code></p> <p>Minor changes: - Adds a user guide section about packages in the versionlock file. (#1199)</p>"},{"location":"CHANGELOG/#ami-release-v20230217","title":"AMI Release v20230217","text":"<ul> <li>amazon-eks-gpu-node-1.25-v20230217</li> <li>amazon-eks-gpu-node-1.24-v20230217</li> <li>amazon-eks-gpu-node-1.23-v20230217</li> <li>amazon-eks-gpu-node-1.22-v20230217</li> <li>amazon-eks-gpu-node-1.21-v20230217</li> <li>amazon-eks-arm64-node-1.25-v20230217</li> <li>amazon-eks-arm64-node-1.24-v20230217</li> <li>amazon-eks-arm64-node-1.23-v20230217</li> <li>amazon-eks-arm64-node-1.22-v20230217</li> <li>amazon-eks-arm64-node-1.21-v20230217</li> <li>amazon-eks-node-1.25-v20230217</li> <li>amazon-eks-node-1.24-v20230217</li> <li>amazon-eks-node-1.23-v20230217</li> <li>amazon-eks-node-1.22-v20230217</li> <li>amazon-eks-node-1.21-v20230217</li> </ul> <p>Release versions for these AMIs: * <code>1.25.6-20230217</code> * <code>1.24.10-20230217</code> * <code>1.23.16-20230217</code> * <code>1.22.17-20230217</code> * <code>1.21.14-20230217</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.25.6/20230130/ * s3://amazon-eks/1.24.10/20230130/ * s3://amazon-eks/1.23.16/20230130/ * s3://amazon-eks/1.22.17/20230211/ * s3://amazon-eks/1.21.14/20230130/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.228-132.418.amzn2   * Kubernetes 1.24 and above: 5.10.165-143.735.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.6-1.amzn2.0.2 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Kubernetes 1.24+ now use <code>kernel-5.10</code> for x86 and ARM AMIs.   - The GPU AMI will continue to use <code>kernel-5.4</code> as we work to address a compatibility issue with <code>nvidia-driver-latest-dkms</code>. - The <code>kernel</code> package is now properly version-locked #1191.   - See #1193 for more information. - New AMIs released for kubernetes version 1.25 - Pressure stall information (PSI) is now enabled #1161.</p> <p>Minor changes: - Updated <code>eni-max-pods.txt</code> with new instance types. - Allow <code>kernel_version</code> to be set to any value (such as <code>5.15</code>) when building a custom AMI.</p>"},{"location":"CHANGELOG/#recalled-ami-release-v20230211","title":"[Recalled] AMI Release v20230211","text":"<ul> <li>amazon-eks-gpu-node-1.25-v20230211</li> <li>amazon-eks-gpu-node-1.24-v20230211</li> <li>amazon-eks-gpu-node-1.23-v20230211</li> <li>amazon-eks-gpu-node-1.22-v20230211</li> <li>amazon-eks-gpu-node-1.21-v20230211</li> <li>amazon-eks-arm64-node-1.25-v20230211</li> <li>amazon-eks-arm64-node-1.24-v20230211</li> <li>amazon-eks-arm64-node-1.23-v20230211</li> <li>amazon-eks-arm64-node-1.22-v20230211</li> <li>amazon-eks-arm64-node-1.21-v20230211</li> <li>amazon-eks-node-1.25-v20230211</li> <li>amazon-eks-node-1.24-v20230211</li> <li>amazon-eks-node-1.23-v20230211</li> <li>amazon-eks-node-1.22-v20230211</li> <li>amazon-eks-node-1.21-v20230211</li> </ul> <p>Release versions for these AMIs: * <code>1.25.6-20230211</code> * <code>1.24.10-20230211</code> * <code>1.23.16-20230211</code> * <code>1.22.17-20230211</code> * <code>1.21.14-20230211</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.25.6/2023-01-30/ * s3://amazon-eks/1.24.10/2023-01-30/ * s3://amazon-eks/1.23.16/2023-01-30/ * s3://amazon-eks/1.22.17/2023-01-30/ * s3://amazon-eks/1.21.14/2023-01-30/</p> <p>AMI details: * <code>kernel</code>:   * Kubernetes 1.23 and below: 5.4.228-132.418.amzn2   * Kubernetes 1.24 and above: 5.10.165-143.735.amzn2 * <code>dockerd</code>: 20.10.17-1.amzn2.0.1   * Note that Docker is not installed on AMI's with Kubernetes 1.25+. * <code>containerd</code>: 1.6.6-1.amzn2.0.2 * <code>runc</code>: 1.1.4-1.amzn2 * <code>cuda</code>: 11.4.0-1 * <code>nvidia-container-runtime-hook</code>: 1.4.0-1.amzn2 * <code>amazon-ssm-agent</code>: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - This is the first AMI release for Kubernetes 1.25. - Kubernetes 1.24+ now use <code>kernel-5.10</code> for x86 and ARM AMIs.   - The GPU AMI will continue to use <code>kernel-5.4</code> as we work to address a compatibility issue with <code>nvidia-driver-latest-dkms</code>. - The <code>kernel</code> package is now version-locked.</p> <p>Minor changes: - Updated <code>eni-max-pods.txt</code> with new instance types. - Allow <code>kernel_version</code> to be set to any value (such as <code>5.15</code>) when building a custom AMI. - Fix a misconfiguration in the GPU AMI with <code>containerd</code>'s registry certificates. #1168.</p>"},{"location":"CHANGELOG/#ami-release-v20230203","title":"AMI Release v20230203","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20230203</li> <li>amazon-eks-gpu-node-1.23-v20230203</li> <li>amazon-eks-gpu-node-1.22-v20230203</li> <li>amazon-eks-gpu-node-1.21-v20230203</li> <li>amazon-eks-arm64-node-1.24-v20230203</li> <li>amazon-eks-arm64-node-1.23-v20230203</li> <li>amazon-eks-arm64-node-1.22-v20230203</li> <li>amazon-eks-arm64-node-1.21-v20230203</li> <li>amazon-eks-node-1.24-v20230203</li> <li>amazon-eks-node-1.23-v20230203</li> <li>amazon-eks-node-1.22-v20230203</li> <li>amazon-eks-node-1.21-v20230203</li> </ul> <p>Release versions for these AMIs: * <code>1.24.9-20230203</code> * <code>1.23.15-20230203</code> * <code>1.22.17-20230203</code> * <code>1.21.14-20230203</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.9/2023-01-11/ * s3://amazon-eks/1.23.15/2023-01-11/ * s3://amazon-eks/1.22.17/2023-01-11/ * s3://amazon-eks/1.21.14/2023-01-11/</p> <p>AMI details: * kernel: 5.4.228-131.415.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.4-1.amzn2 * cuda: 11.4.0-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * Reverted Use external cloud provider for EKS Local deployments</p>"},{"location":"CHANGELOG/#ami-release-v20230127","title":"AMI Release v20230127","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20230127</li> <li>amazon-eks-gpu-node-1.23-v20230127</li> <li>amazon-eks-gpu-node-1.22-v20230127</li> <li>amazon-eks-gpu-node-1.21-v20230127</li> <li>amazon-eks-arm64-node-1.24-v20230127</li> <li>amazon-eks-arm64-node-1.23-v20230127</li> <li>amazon-eks-arm64-node-1.22-v20230127</li> <li>amazon-eks-arm64-node-1.21-v20230127</li> <li>amazon-eks-node-1.24-v20230127</li> <li>amazon-eks-node-1.23-v20230127</li> <li>amazon-eks-node-1.22-v20230127</li> <li>amazon-eks-node-1.21-v20230127</li> </ul> <p>Release versions for these AMIs: * <code>1.24.9-20230127</code> * <code>1.23.15-20230127</code> * <code>1.22.17-20230127</code> * <code>1.21.14-20230127</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.9/2023-01-11/ * s3://amazon-eks/1.23.15/2023-01-11/ * s3://amazon-eks/1.22.17/2023-01-11/ * s3://amazon-eks/1.21.14/2023-01-11/</p> <p>AMI details: * kernel: 5.4.228-131.415.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.4-1.amzn2 * cuda: 11.4.0-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Updated kernel version to <code>5.4.228-131.415.amzn2</code> for:   - ALAS2KERNEL-5.4-2023-041. - Add support for <code>C6in</code>, <code>M6in</code>, <code>M6idn</code>, <code>R6in</code>, <code>R6idn</code> and <code>Hpc6id</code> instances #1153 - This is the first AMI release available in <code>ap-south-2</code>, <code>eu-central-2</code>, and <code>eu-south-2</code>. - Cache image content without unpacking/snapshotting #1144   - Container image caching has been re-enabled for 1.24 AMI's.</p> <p>Minor changes: - Update AWS CLI to <code>2.9.18</code> - Configure containerd registry certificates by default in the GPU AMI.</p>"},{"location":"CHANGELOG/#ami-release-v20230105","title":"AMI Release v20230105","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20230105</li> <li>amazon-eks-gpu-node-1.23-v20230105</li> <li>amazon-eks-gpu-node-1.22-v20230105</li> <li>amazon-eks-gpu-node-1.21-v20230105</li> <li>amazon-eks-gpu-node-1.20-v20230105</li> <li>amazon-eks-arm64-node-1.24-v20230105</li> <li>amazon-eks-arm64-node-1.23-v20230105</li> <li>amazon-eks-arm64-node-1.22-v20230105</li> <li>amazon-eks-arm64-node-1.21-v20230105</li> <li>amazon-eks-arm64-node-1.20-v20230105</li> <li>amazon-eks-node-1.24-v20230105</li> <li>amazon-eks-node-1.23-v20230105</li> <li>amazon-eks-node-1.22-v20230105</li> <li>amazon-eks-node-1.21-v20230105</li> <li>amazon-eks-node-1.20-v20230105</li> </ul> <p>Release versions for these AMIs: * <code>1.24.7-20230105</code> * <code>1.23.13-20230105</code> * <code>1.22.15-20230105</code> * <code>1.21.14-20230105</code> * <code>1.20.15-20230105</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.7/2022-10-31/ * s3://amazon-eks/1.23.13/2022-10-31/ * s3://amazon-eks/1.22.15/2022-10-31/ * s3://amazon-eks/1.21.14/2022-10-31/ * s3://amazon-eks/1.20.15/2022-10-31/</p> <p>AMI details: * kernel: 5.4.226-129.415.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.4-1.amzn2 * cuda: 11.4.0-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - This will be the last release for 1.20 AMI's. - Decrease <code>launch_block_device_mappings_volume_size</code> to 4 (#1143).   - This fixes an issue with 4GiB launch block devices. More information is available in #1142. - Container image caching has been disabled while we work to optimize the disk usage of this feature. This feature was only enabled for 1.24 AMI's in the previous release, v20221222.</p> <p>Minor changes: - Update AWS CLI to <code>2.9.12</code></p>"},{"location":"CHANGELOG/#ami-release-v20221222","title":"AMI Release v20221222","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20221222</li> <li>amazon-eks-gpu-node-1.23-v20221222</li> <li>amazon-eks-gpu-node-1.22-v20221222</li> <li>amazon-eks-gpu-node-1.21-v20221222</li> <li>amazon-eks-gpu-node-1.20-v20221222</li> <li>amazon-eks-arm64-node-1.24-v20221222</li> <li>amazon-eks-arm64-node-1.23-v20221222</li> <li>amazon-eks-arm64-node-1.22-v20221222</li> <li>amazon-eks-arm64-node-1.21-v20221222</li> <li>amazon-eks-arm64-node-1.20-v20221222</li> <li>amazon-eks-node-1.24-v20221222</li> <li>amazon-eks-node-1.23-v20221222</li> <li>amazon-eks-node-1.22-v20221222</li> <li>amazon-eks-node-1.21-v20221222</li> <li>amazon-eks-node-1.20-v20221222</li> </ul> <p>Release versions for these AMIs: * <code>1.24.7-20221222</code> * <code>1.23.13-20221222</code> * <code>1.22.15-20221222</code> * <code>1.21.14-20221222</code> * <code>1.20.15-20221222</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.7/2022-10-31/ * s3://amazon-eks/1.23.13/2022-10-31/ * s3://amazon-eks/1.22.15/2022-10-31/ * s3://amazon-eks/1.21.14/2022-10-31/ * s3://amazon-eks/1.20.15/2022-10-31/</p> <p>AMI details: * kernel: 5.4.226-129.415.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.4-1.amzn2 * cuda: 11.4.0-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - Kernel updated to <code>5.4.226-129.415.amzn2</code> for:   - ALASKERNEL-5.4-2022-040   - ALASKERNEL-5.4-2022-039 - NVIDIA driver updated to <code>470.161.03-1</code> to address security issues. More information is available in NVIDIA security bulletin #5415. - Cache pause, vpc-cni, and kube-proxy images during build (#938)   - Note that this has only been enabled for 1.24 AMIs at this time. - Disable yum updates in cloud-init (#1074) - Skip sandbox image pull if already present (#1090) - Move variable defaults to <code>--var-file</code> (#1079)</p> <p>Minor changes: - Add ECR accounts for <code>eu-south-2</code>, <code>eu-central-2</code>, <code>ap-south-2</code> (#1125) - Handle indentation when parsing <code>sandbox_image</code> from <code>containerd</code> config (#1119) - Lookup instanceId using IMDSv2 in Windows log collector script (#1116) - Remove <code>aws_region</code> and <code>binary_bucket_region</code> overrides from Makefile (#1115) - Sym-link awscli to /bin (#1102) - Configure containerd registry certificates by default (#1049)</p>"},{"location":"CHANGELOG/#ami-release-v20221112","title":"AMI Release v20221112","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20221112</li> <li>amazon-eks-gpu-node-1.23-v20221112</li> <li>amazon-eks-gpu-node-1.22-v20221112</li> <li>amazon-eks-gpu-node-1.21-v20221112</li> <li>amazon-eks-gpu-node-1.20-v20221112</li> <li>amazon-eks-arm64-node-1.24-v20221112</li> <li>amazon-eks-arm64-node-1.23-v20221112</li> <li>amazon-eks-arm64-node-1.22-v20221112</li> <li>amazon-eks-arm64-node-1.21-v20221112</li> <li>amazon-eks-arm64-node-1.20-v20221112</li> <li>amazon-eks-node-1.24-v20221112</li> <li>amazon-eks-node-1.23-v20221112</li> <li>amazon-eks-node-1.22-v20221112</li> <li>amazon-eks-node-1.21-v20221112</li> <li>amazon-eks-node-1.20-v20221112</li> </ul> <p>Release versions for these AMIs: * <code>1.24.7-20221112</code> * <code>1.23.13-20221112</code> * <code>1.22.15-20221112</code> * <code>1.21.14-20221112</code> * <code>1.20.15-20221112</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.7/2022-10-31/ * s3://amazon-eks/1.23.13/2022-10-31/ * s3://amazon-eks/1.22.15/2022-10-31/ * s3://amazon-eks/1.21.14/2022-10-31/ * s3://amazon-eks/1.20.15/2022-10-31/</p> <p>AMI details: * kernel: 5.4.219-126.411.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: runc-1.1.4-1.amzn2 * cuda: 470.141.03-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * Upgrades <code>runc</code> to version <code>1.1.4</code> * Updates aws-iam-authenticator to version <code>0.5.10</code> and updates <code>kubelet</code> versions to <code>1.22.15</code>, <code>1.23.13</code> and <code>1.24.7</code> * Updates <code>client.authentication.k8s.io</code> to <code>v1beta1</code> * Updates credential provider API to beta for Kubernetes versions <code>1.24+</code> * Installs awscli v2 bundle when possible</p>"},{"location":"CHANGELOG/#ami-release-v20221104","title":"AMI Release v20221104","text":"<ul> <li>amazon-eks-gpu-node-1.24-v20221104</li> <li>amazon-eks-gpu-node-1.23-v20221104</li> <li>amazon-eks-gpu-node-1.22-v20221104</li> <li>amazon-eks-gpu-node-1.21-v20221104</li> <li>amazon-eks-gpu-node-1.20-v20221104</li> <li>amazon-eks-arm64-node-1.24-v20221104</li> <li>amazon-eks-arm64-node-1.23-v20221104</li> <li>amazon-eks-arm64-node-1.22-v20221104</li> <li>amazon-eks-arm64-node-1.21-v20221104</li> <li>amazon-eks-arm64-node-1.20-v20221104</li> <li>amazon-eks-node-1.24-v20221104</li> <li>amazon-eks-node-1.23-v20221104</li> <li>amazon-eks-node-1.22-v20221104</li> <li>amazon-eks-node-1.21-v20221104</li> <li>amazon-eks-node-1.20-v20221104</li> </ul> <p>Release versions for these AMIs: * <code>1.24.6-20221104</code> * <code>1.23.9-20221104</code> * <code>1.22.12-20221104</code> * <code>1.21.14-20221104</code> * <code>1.20.15-20221104</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.24.6/2022-10-05/ * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/</p> <p>AMI details: * kernel: 5.4.219-126.411.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.3-1.amzn2.0.2 * cuda: 470.141.03-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * Adds support for 1.24 with version 1.24.6 * Upgrades kernel at <code>5.4.219-126.411.amzn2</code> to address known issues with the previous kernel version</p>"},{"location":"CHANGELOG/#ami-release-v20221101","title":"AMI Release v20221101","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20221101</li> <li>amazon-eks-gpu-node-1.22-v20221101</li> <li>amazon-eks-gpu-node-1.21-v20221101</li> <li>amazon-eks-gpu-node-1.20-v20221101</li> <li>amazon-eks-arm64-node-1.23-v20221101</li> <li>amazon-eks-arm64-node-1.22-v20221101</li> <li>amazon-eks-arm64-node-1.21-v20221101</li> <li>amazon-eks-arm64-node-1.20-v20221101</li> <li>amazon-eks-node-1.23-v20221101</li> <li>amazon-eks-node-1.22-v20221101</li> <li>amazon-eks-node-1.21-v20221101</li> <li>amazon-eks-node-1.20-v20221101</li> </ul> <p>Release versions for these AMIs: * <code>1.23.9-20221101</code> * <code>1.22.12-20221101</code> * <code>1.21.14-20221101</code> * <code>1.20.15-20221101</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/</p> <p>AMI details: * kernel: 5.4.209-116.367.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.3-1.amzn2.0.2 * cuda: 470.141.03-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * Pin Kernel 5.4 to 5.4.209-116.367 to prevent nodes from going into Unready #1072 * Increase the kube-api-server QPS from 5/10 to 10/20 #1030 * Update docker and containerd for ALASDOCKER-2022-021 #1056 * runc version is updated to 1.1.3-1.amzn2.0.2 to include ALAS2DOCKER-2022-020 #1055 * Release AMI in me-central-1 with version 1.21, 1.22, 1.23. 1.20 is not supported in this region since it will be deprecated soon. * Fixes an issue with Docker daemon configuration on the GPU AMI (#351).   * Note that if you have a workaround in place for this issue, you'll likely need to revert it.</p>"},{"location":"CHANGELOG/#recalled-ami-release-v20221027","title":"[Recalled] AMI Release v20221027","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20221027</li> <li>amazon-eks-gpu-node-1.22-v20221027</li> <li>amazon-eks-gpu-node-1.21-v20221027</li> <li>amazon-eks-gpu-node-1.20-v20221027</li> <li>amazon-eks-arm64-node-1.23-v20221027</li> <li>amazon-eks-arm64-node-1.22-v20221027</li> <li>amazon-eks-arm64-node-1.21-v20221027</li> <li>amazon-eks-arm64-node-1.20-v20221027</li> <li>amazon-eks-node-1.23-v20221027</li> <li>amazon-eks-node-1.22-v20221027</li> <li>amazon-eks-node-1.21-v20221027</li> <li>amazon-eks-node-1.20-v20221027</li> </ul> <p>Release versions for these AMIs: * <code>1.23.9-20221027</code> * <code>1.22.12-20221027</code> * <code>1.21.14-20221027</code> * <code>1.20.15-20221027</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/</p> <p>AMI details: * kernel: 5.4.217-126.408.amzn2 * dockerd: 20.10.17-1.amzn2.0.1 * containerd: 1.6.6-1.amzn2.0.2 * runc: 1.1.3-1.amzn2.0.2 * cuda: 470.141.03-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: * cuda is updated to 470.141.03-1. * Linux kernel is updated to 5.4.217-126.408.amzn2. * runc version is updated to 1.1.3-1.amzn2.0.2 to include ALAS2DOCKER-2022-020. #1055 * docker version are update to 20.10.17-1.amzn2.0.1, and containerd version are updated to 1.6.6-1.amzn2.0.2 to include ALASDOCKER-2022-021. #1056 * Increase the kube-api-server QPS from 5/10 to 10/20. #1030 * Release AMI in me-central-1 with version 1.21, 1.22, 1.23. 1.20 will not be supported since it will be deprecated soon.</p>"},{"location":"CHANGELOG/#ami-release-v20220926","title":"AMI Release v20220926","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20220926</li> <li>amazon-eks-gpu-node-1.22-v20220926</li> <li>amazon-eks-gpu-node-1.21-v20220926</li> <li>amazon-eks-gpu-node-1.20-v20220926</li> <li>amazon-eks-arm64-node-1.23-v20220926</li> <li>amazon-eks-arm64-node-1.22-v20220926</li> <li>amazon-eks-arm64-node-1.21-v20220926</li> <li>amazon-eks-arm64-node-1.20-v20220926</li> <li>amazon-eks-node-1.23-v20220926</li> <li>amazon-eks-node-1.22-v20220926</li> <li>amazon-eks-node-1.21-v20220926</li> <li>amazon-eks-node-1.20-v20220926</li> </ul> <p>Release versions for these AMIs: * <code>1.23.9-20220926</code> * <code>1.22.12-20220926</code> * <code>1.21.14-20220926</code> * <code>1.20.15-20220926</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/</p> <p>AMI details: * kernel: 5.4.209-116.367.amzn2 * dockerd: 20.10.17-1.amzn2 * containerd: 1.6.6-1.amzn2 * runc: 1.1.3-1.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable Changes: * Phase 1 of support for Trn1 instances</p>"},{"location":"CHANGELOG/#ami-release-v20220914","title":"AMI Release v20220914","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20220914</li> <li>amazon-eks-gpu-node-1.22-v20220914</li> <li>amazon-eks-gpu-node-1.21-v20220914</li> <li>amazon-eks-gpu-node-1.20-v20220914</li> <li>amazon-eks-arm64-node-1.23-v20220914</li> <li>amazon-eks-arm64-node-1.22-v20220914</li> <li>amazon-eks-arm64-node-1.21-v20220914</li> <li>amazon-eks-arm64-node-1.20-v20220914</li> <li>amazon-eks-node-1.23-v20220914</li> <li>amazon-eks-node-1.22-v20220914</li> <li>amazon-eks-node-1.21-v20220914</li> <li>amazon-eks-node-1.20-v20220914</li> </ul> <p>Release versions for these AMIs: * <code>1.23.9-20220914</code> * <code>1.22.12-20220914</code> * <code>1.21.14-20220914</code> * <code>1.20.15-20220914</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/</p> <p>AMI details: * kernel: 5.4.209-116.367.amzn2 * dockerd: 20.10.17-1.amzn2 * containerd: 1.6.6-1.amzn2 * runc: 1.1.3-1.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1732.0-1.amzn2</p> <p>Notable changes: - The AWS CLI has been updated to (<code>1.25.72</code>)[https://github.com/aws/aws-cli/blob/1.25.72/CHANGELOG.rst#L8] to support local EKS clusters on Outposts. - This release fixes an issue with DNS cluster IP and IPv6. More info in #931. - Kernel version updated to <code>5.4.209-116.367.amzn2</code> as a part of latest CVE patch (ALASKERNEL-5.4-2022-035)[https://alas.aws.amazon.com/AL2/ALASKERNEL-5.4-2022-035.html]</p>"},{"location":"CHANGELOG/#ami-release-v20220824","title":"AMI Release v20220824","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20220824</li> <li>amazon-eks-gpu-node-1.22-v20220824</li> <li>amazon-eks-gpu-node-1.21-v20220824</li> <li>amazon-eks-gpu-node-1.20-v20220824</li> <li>amazon-eks-gpu-node-1.19-v20220824</li> <li>amazon-eks-arm64-node-1.23-v20220824</li> <li>amazon-eks-arm64-node-1.22-v20220824</li> <li>amazon-eks-arm64-node-1.21-v20220824</li> <li>amazon-eks-arm64-node-1.20-v20220824</li> <li>amazon-eks-arm64-node-1.19-v20220824</li> <li>amazon-eks-node-1.23-v20220824</li> <li>amazon-eks-node-1.22-v20220824</li> <li>amazon-eks-node-1.21-v20220824</li> <li>amazon-eks-node-1.20-v20220824</li> <li>amazon-eks-node-1.19-v20220824</li> </ul> <p>Release versions for these AMIs: * <code>1.23.9-20220824</code> * <code>1.22.12-20220824</code> * <code>1.21.14-20220824</code> * <code>1.20.15-20220824</code> * <code>1.19.15-20220824</code></p> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.209-116.363.amzn2 * dockerd: 20.10.17-1.amzn2 * containerd: 1.6.6-1.amzn2 * runc: 1.1.3-1.amzn2-1.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1575.0-1.amzn2</p> <p>Notable changes: * We are updating the versions of docker, containerd and runc as part of this AMI release. * Kernel version is also updated to include the latest CVE patches * This is the last release for 1.19 as we are at end of support for 1.19</p>"},{"location":"CHANGELOG/#ami-release-v20220811","title":"AMI Release v20220811","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20220811</li> <li>amazon-eks-gpu-node-1.22-v20220811</li> <li>amazon-eks-gpu-node-1.21-v20220811</li> <li>amazon-eks-gpu-node-1.20-v20220811</li> <li>amazon-eks-gpu-node-1.19-v20220811</li> <li>amazon-eks-arm64-node-1.23-v20220811</li> <li>amazon-eks-arm64-node-1.22-v20220811</li> <li>amazon-eks-arm64-node-1.21-v20220811</li> <li>amazon-eks-arm64-node-1.20-v20220811</li> <li>amazon-eks-arm64-node-1.19-v20220811</li> <li>amazon-eks-node-1.23-v20220811</li> <li>amazon-eks-node-1.22-v20220811</li> <li>amazon-eks-node-1.21-v20220811</li> <li>amazon-eks-node-1.20-v20220811</li> <li>amazon-eks-node-1.19-v20220811</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.9/2022-07-27/ * s3://amazon-eks/1.22.12/2022-07-27/ * s3://amazon-eks/1.21.14/2022-07-27/ * s3://amazon-eks/1.20.15/2022-07-27/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.204-113.362.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1575.0-1.amzn2</p> <p>Notable changes: - Kubelet binaries updated, including a backport of #109676. - When using <code>containerd</code> as the container runtime, <code>systemd</code> will now be used as the cgroup driver. For more information, see the Kubernetes documentation. - Updated <code>aws-neuron-dkms</code> to <code>2.3.26</code> to address a security issue. This is a recommended upgrade for all users of the GPU AMI.</p>"},{"location":"CHANGELOG/#ami-release-v20220802","title":"AMI Release v20220802","text":"<ul> <li>amazon-eks-gpu-node-1.23-v20220802</li> <li>amazon-eks-gpu-node-1.22-v20220802</li> <li>amazon-eks-gpu-node-1.21-v20220802</li> <li>amazon-eks-gpu-node-1.20-v20220802</li> <li>amazon-eks-gpu-node-1.19-v20220802</li> <li>amazon-eks-arm64-node-1.23-v20220802</li> <li>amazon-eks-arm64-node-1.22-v20220802</li> <li>amazon-eks-arm64-node-1.21-v20220802</li> <li>amazon-eks-arm64-node-1.20-v20220802</li> <li>amazon-eks-arm64-node-1.19-v20220802</li> <li>amazon-eks-node-1.23-v20220802</li> <li>amazon-eks-node-1.22-v20220802</li> <li>amazon-eks-node-1.21-v20220802</li> <li>amazon-eks-node-1.20-v20220802</li> <li>amazon-eks-node-1.19-v20220802</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.23.7/2022-06-29/ * s3://amazon-eks/1.22.9/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.15/2022-06-20/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.204-113.362.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1575.0-1.amzn2</p> <p>Notable changes: * Release 1.23 AMIs publicly</p>"},{"location":"CHANGELOG/#ami-release-v20220725","title":"AMI Release v20220725","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220725</li> <li>amazon-eks-gpu-node-1.21-v20220725</li> <li>amazon-eks-gpu-node-1.20-v20220725</li> <li>amazon-eks-gpu-node-1.19-v20220725</li> <li>amazon-eks-arm64-node-1.22-v20220725</li> <li>amazon-eks-arm64-node-1.21-v20220725</li> <li>amazon-eks-arm64-node-1.20-v20220725</li> <li>amazon-eks-arm64-node-1.19-v20220725</li> <li>amazon-eks-node-1.22-v20220725</li> <li>amazon-eks-node-1.21-v20220725</li> <li>amazon-eks-node-1.20-v20220725</li> <li>amazon-eks-node-1.19-v20220725</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.9/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.15/2022-06-20/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.204-113.362.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1575.0</p> <p>Notable changes: * Updating pause-container version from 3.1 to 3.5 * Adding log-collector-script to the AMI * Kernel version upgraded to 5.4.204-113.362.amzn2 for CVE-2022-0494 CVE-2022-0812 CVE-2022-1012 CVE-2022-1184 CVE-2022-1966 CVE-2022-32250 CVE-2022-32296 CVE-2022-32981</p>"},{"location":"CHANGELOG/#ami-release-v20220629","title":"AMI Release v20220629","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220629</li> <li>amazon-eks-gpu-node-1.21-v20220629</li> <li>amazon-eks-gpu-node-1.20-v20220629</li> <li>amazon-eks-gpu-node-1.19-v20220629</li> <li>amazon-eks-arm64-node-1.22-v20220629</li> <li>amazon-eks-arm64-node-1.21-v20220629</li> <li>amazon-eks-arm64-node-1.20-v20220629</li> <li>amazon-eks-arm64-node-1.19-v20220629</li> <li>amazon-eks-node-1.22-v20220629</li> <li>amazon-eks-node-1.21-v20220629</li> <li>amazon-eks-node-1.20-v20220629</li> <li>amazon-eks-node-1.19-v20220629</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.9/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.15/2022-06-20/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.196-108.356.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Noted software versions are identical to release v20220620 in the commercial partition.</p>"},{"location":"CHANGELOG/#ami-release-v20220620","title":"AMI Release v20220620","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220620</li> <li>amazon-eks-gpu-node-1.21-v20220620</li> <li>amazon-eks-gpu-node-1.20-v20220620</li> <li>amazon-eks-gpu-node-1.19-v20220620</li> <li>amazon-eks-arm64-node-1.22-v20220620</li> <li>amazon-eks-arm64-node-1.21-v20220620</li> <li>amazon-eks-arm64-node-1.20-v20220620</li> <li>amazon-eks-arm64-node-1.19-v20220620</li> <li>amazon-eks-node-1.22-v20220620</li> <li>amazon-eks-node-1.21-v20220620</li> <li>amazon-eks-node-1.20-v20220620</li> <li>amazon-eks-node-1.19-v20220620</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.9/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.15/2022-06-20/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.196-108.356.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Notable changes: * Update kubelet binaries for 1.20 * Support packer's ami_regions feature * Increase /var/log/messages limit to 100M * Support local cluster in Outposts * Adding c6id, m6id, r6id to eni-max-pods.txt</p>"},{"location":"CHANGELOG/#ami-release-v20220610","title":"AMI Release v20220610","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220610</li> <li>amazon-eks-gpu-node-1.21-v20220610</li> <li>amazon-eks-gpu-node-1.20-v20220610</li> <li>amazon-eks-gpu-node-1.19-v20220610</li> <li>amazon-eks-arm64-node-1.22-v20220610</li> <li>amazon-eks-arm64-node-1.21-v20220610</li> <li>amazon-eks-arm64-node-1.20-v20220610</li> <li>amazon-eks-arm64-node-1.19-v20220610</li> <li>amazon-eks-node-1.22-v20220610</li> <li>amazon-eks-node-1.21-v20220610</li> <li>amazon-eks-node-1.20-v20220610</li> <li>amazon-eks-node-1.19-v20220610</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.9/2022-06-03/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.196-108.356.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-3.amzn2 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Notable changes: * Containerd version upgraded to 1.4.13-3.amzn2 for CVE-2022-31030. * Kernel version upgraded to 5.4.196-108.356.amzn2 for CVE-2022-0494, CVE-2022-0854, CVE-2022-1729, CVE-2022-1836, CVE-2022-28893, CVE-2022-29581 * Updating the kubelet version for 1.22 from 1.22.6 to 1.22.9</p>"},{"location":"CHANGELOG/#ami-release-v20220526","title":"AMI Release v20220526","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220526</li> <li>amazon-eks-gpu-node-1.21-v20220526</li> <li>amazon-eks-gpu-node-1.20-v20220526</li> <li>amazon-eks-gpu-node-1.19-v20220526</li> <li>amazon-eks-arm64-node-1.22-v20220526</li> <li>amazon-eks-arm64-node-1.21-v20220526</li> <li>amazon-eks-arm64-node-1.20-v20220526</li> <li>amazon-eks-arm64-node-1.19-v20220526</li> <li>amazon-eks-node-1.22-v20220526</li> <li>amazon-eks-node-1.21-v20220526</li> <li>amazon-eks-node-1.20-v20220526</li> <li>amazon-eks-node-1.19-v20220526</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.190-107.353.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Notable changes: Linux kernel upgraded to 5.4.190-107.353.</p>"},{"location":"CHANGELOG/#ami-release-v20220523","title":"AMI Release v20220523","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220523</li> <li>amazon-eks-gpu-node-1.21-v20220523</li> <li>amazon-eks-gpu-node-1.20-v20220523</li> <li>amazon-eks-gpu-node-1.19-v20220523</li> <li>amazon-eks-arm64-node-1.22-v20220523</li> <li>amazon-eks-arm64-node-1.21-v20220523</li> <li>amazon-eks-arm64-node-1.20-v20220523</li> <li>amazon-eks-arm64-node-1.19-v20220523</li> <li>amazon-eks-node-1.22-v20220523</li> <li>amazon-eks-node-1.21-v20220523</li> <li>amazon-eks-node-1.20-v20220523</li> <li>amazon-eks-node-1.19-v20220523</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.12/2022-05-20/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.190-107.353.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Notable changes: * Added i4i instance support * Fixes regression in the docker group ID. AMI build will now fail if the docker group ID is not 1950. * Removes unused kernels (such as 4.14) during AMI build. This prevents false-positives from automated scanning tools such as AWS Inspector. * Maintain dockershim compatibility symlink after instance reboot * Updates 1.21 kubelet version to 1.21.12</p>"},{"location":"CHANGELOG/#recalled-ami-release-v20220513","title":"[Recalled] AMI Release v20220513","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220513</li> <li>amazon-eks-gpu-node-1.21-v20220513</li> <li>amazon-eks-gpu-node-1.20-v20220513</li> <li>amazon-eks-gpu-node-1.19-v20220513</li> <li>amazon-eks-arm64-node-1.22-v20220513</li> <li>amazon-eks-arm64-node-1.21-v20220513</li> <li>amazon-eks-arm64-node-1.20-v20220513</li> <li>amazon-eks-arm64-node-1.19-v20220513</li> <li>amazon-eks-node-1.22-v20220513</li> <li>amazon-eks-node-1.21-v20220513</li> <li>amazon-eks-node-1.20-v20220513</li> <li>amazon-eks-node-1.19-v20220513</li> </ul> <p>Notice: * EKS-Optimized AMI SSM parameters contained an incorrect reference to the release version of the AMIs in this release.</p>"},{"location":"CHANGELOG/#ami-release-v20220429","title":"AMI Release v20220429","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220429</li> <li>amazon-eks-gpu-node-1.21-v20220429</li> <li>amazon-eks-gpu-node-1.20-v20220429</li> <li>amazon-eks-gpu-node-1.19-v20220429</li> <li>amazon-eks-arm64-node-1.22-v20220429</li> <li>amazon-eks-arm64-node-1.21-v20220429</li> <li>amazon-eks-arm64-node-1.20-v20220429</li> <li>amazon-eks-arm64-node-1.19-v20220429</li> <li>amazon-eks-node-1.22-v20220429</li> <li>amazon-eks-node-1.21-v20220429</li> <li>amazon-eks-node-1.20-v20220429</li> <li>amazon-eks-node-1.19-v20220429</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.188-104.359.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0-1.amzn2</p> <p>Notable changes: * Added c7g support * When replaying user-data in testing will bail user-data when strict due to moving files</p>"},{"location":"CHANGELOG/#ami-release-v20220421","title":"AMI Release v20220421","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220421</li> <li>amazon-eks-gpu-node-1.21-v20220421</li> <li>amazon-eks-gpu-node-1.20-v20220421</li> <li>amazon-eks-gpu-node-1.19-v20220421</li> <li>amazon-eks-arm64-node-1.22-v20220421</li> <li>amazon-eks-arm64-node-1.21-v20220421</li> <li>amazon-eks-arm64-node-1.20-v20220421</li> <li>amazon-eks-arm64-node-1.19-v20220421</li> <li>amazon-eks-node-1.22-v20220421</li> <li>amazon-eks-node-1.21-v20220421</li> <li>amazon-eks-node-1.20-v20220421</li> <li>amazon-eks-node-1.19-v20220421</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.188-104.359.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0-1.amzn2</p> <p>Notable changes: * Includes patched Kernel for CVE-2022-26490, CVE-2022-27666 and CVE-2022-28356 * New release with AMIs now available in ap-southeast-3</p>"},{"location":"CHANGELOG/#ami-release-v20220420","title":"AMI Release v20220420","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220420</li> <li>amazon-eks-gpu-node-1.21-v20220420</li> <li>amazon-eks-gpu-node-1.20-v20220420</li> <li>amazon-eks-gpu-node-1.19-v20220420</li> <li>amazon-eks-arm64-node-1.22-v20220420</li> <li>amazon-eks-arm64-node-1.21-v20220420</li> <li>amazon-eks-arm64-node-1.20-v20220420</li> <li>amazon-eks-arm64-node-1.19-v20220420</li> <li>amazon-eks-node-1.22-v20220420</li> <li>amazon-eks-node-1.21-v20220420</li> <li>amazon-eks-node-1.20-v20220420</li> <li>amazon-eks-node-1.19-v20220420</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/</p> <p>AMI details: * kernel: 5.4.188-104.359.amzn2 * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.1.1188.0</p> <p>Notable changes: - Patches for CVE-2022-0778, CVE-2022-23218 and CVE-2022-23219 have been included. - Deprecating 1.18 k8s Version</p>"},{"location":"CHANGELOG/#ami-release-v20220406","title":"AMI Release v20220406","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220406</li> <li>amazon-eks-gpu-node-1.21-v20220406</li> <li>amazon-eks-gpu-node-1.20-v20220406</li> <li>amazon-eks-gpu-node-1.19-v20220406</li> <li>amazon-eks-gpu-node-1.18-v20220406</li> <li>amazon-eks-arm64-node-1.22-v20220406</li> <li>amazon-eks-arm64-node-1.21-v20220406</li> <li>amazon-eks-arm64-node-1.20-v20220406</li> <li>amazon-eks-arm64-node-1.19-v20220406</li> <li>amazon-eks-arm64-node-1.18-v20220406</li> <li>amazon-eks-node-1.22-v20220406</li> <li>amazon-eks-node-1.21-v20220406</li> <li>amazon-eks-node-1.20-v20220406</li> <li>amazon-eks-node-1.19-v20220406</li> <li>amazon-eks-node-1.18-v20220406</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.181-99.354.amzn2 (1.19 and above), 4.14.268-205.500.amzn2 (1.18 and below) * dockerd: 20.10.13-2.amzn2 * containerd: 1.4.13-2.amzn2.0.1 * runc: 1.0.3-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Patches for CVE-2022-24769 have been included. - The bootstrap script will auto-discover maxPods values when instanceType is missing in eni-max-pods.txt</p>"},{"location":"CHANGELOG/#ami-release-v20220317","title":"AMI Release v20220317","text":"<ul> <li>amazon-eks-gpu-node-1.22-v20220317</li> <li>amazon-eks-gpu-node-1.21-v20220317</li> <li>amazon-eks-gpu-node-1.20-v20220317</li> <li>amazon-eks-gpu-node-1.19-v20220317</li> <li>amazon-eks-gpu-node-1.18-v20220317</li> <li>amazon-eks-arm64-node-1.22-v20220317</li> <li>amazon-eks-arm64-node-1.21-v20220317</li> <li>amazon-eks-arm64-node-1.20-v20220317</li> <li>amazon-eks-arm64-node-1.19-v20220317</li> <li>amazon-eks-arm64-node-1.18-v20220317</li> <li>amazon-eks-node-1.22-v20220317</li> <li>amazon-eks-node-1.21-v20220317</li> <li>amazon-eks-node-1.20-v20220317</li> <li>amazon-eks-node-1.19-v20220317</li> <li>amazon-eks-node-1.18-v20220317</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.22.6/2022-03-09/ * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.181-99.354.amzn2 (1.19 and above), 4.14.268-205.500.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-8.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Adding support for new k8s version 1.22</p>"},{"location":"CHANGELOG/#ami-release-v20220309","title":"AMI Release v20220309","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220309</li> <li>amazon-eks-gpu-node-1.20-v20220309</li> <li>amazon-eks-gpu-node-1.19-v20220309</li> <li>amazon-eks-gpu-node-1.18-v20220309</li> <li>amazon-eks-arm64-node-1.21-v20220309</li> <li>amazon-eks-arm64-node-1.20-v20220309</li> <li>amazon-eks-arm64-node-1.19-v20220309</li> <li>amazon-eks-arm64-node-1.18-v20220309</li> <li>amazon-eks-node-1.21-v20220309</li> <li>amazon-eks-node-1.20-v20220309</li> <li>amazon-eks-node-1.19-v20220309</li> <li>amazon-eks-node-1.18-v20220309</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.181-99.354.amzn2 (1.19 and above), 4.14.268-205.500.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-8.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Update kernel version to 4.14.268-205.500.amzn2 for 1.18 and below, 5.4.181-99.354.amzn2 for 1.19 and above. For more information, see ALAS-2022-1761 and ALASKERNEL-5.4-2022-023.</p>"},{"location":"CHANGELOG/#ami-release-v20220303","title":"AMI Release v20220303","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220303</li> <li>amazon-eks-gpu-node-1.20-v20220303</li> <li>amazon-eks-gpu-node-1.19-v20220303</li> <li>amazon-eks-gpu-node-1.18-v20220303</li> <li>amazon-eks-arm64-node-1.21-v20220303</li> <li>amazon-eks-arm64-node-1.20-v20220303</li> <li>amazon-eks-arm64-node-1.19-v20220303</li> <li>amazon-eks-arm64-node-1.18-v20220303</li> <li>amazon-eks-node-1.21-v20220303</li> <li>amazon-eks-node-1.20-v20220303</li> <li>amazon-eks-node-1.19-v20220303</li> <li>amazon-eks-node-1.18-v20220303</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.176-91.338.amzn2 (1.19 and above), 4.14.262-200.489.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-8.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Update <code>containerd</code> to <code>1.4.6-8.amzn2</code> for CVE-2022-23648.</p>"},{"location":"CHANGELOG/#ami-release-v20220226","title":"AMI Release v20220226","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220226</li> <li>amazon-eks-gpu-node-1.20-v20220226</li> <li>amazon-eks-gpu-node-1.19-v20220226</li> <li>amazon-eks-gpu-node-1.18-v20220226</li> <li>amazon-eks-arm64-node-1.21-v20220226</li> <li>amazon-eks-arm64-node-1.20-v20220226</li> <li>amazon-eks-arm64-node-1.19-v20220226</li> <li>amazon-eks-arm64-node-1.18-v20220226</li> <li>amazon-eks-node-1.21-v20220226</li> <li>amazon-eks-node-1.20-v20220226</li> <li>amazon-eks-node-1.19-v20220226</li> <li>amazon-eks-node-1.18-v20220226</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2022-01-21/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.176-91.338.amzn2 (1.19 and above), 4.14.262-200.489.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Upgrade <code>ec2-utils</code> version to <code>1.2-47</code>, addressing an issue with device symbolic links. More information is available here.</p>"},{"location":"CHANGELOG/#ami-release-v20220216","title":"AMI Release v20220216","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220216</li> <li>amazon-eks-gpu-node-1.20-v20220216</li> <li>amazon-eks-gpu-node-1.19-v20220216</li> <li>amazon-eks-gpu-node-1.18-v20220216</li> <li>amazon-eks-arm64-node-1.21-v20220216</li> <li>amazon-eks-arm64-node-1.20-v20220216</li> <li>amazon-eks-arm64-node-1.19-v20220216</li> <li>amazon-eks-arm64-node-1.18-v20220216</li> <li>amazon-eks-node-1.21-v20220216</li> <li>amazon-eks-node-1.20-v20220216</li> <li>amazon-eks-node-1.19-v20220216</li> <li>amazon-eks-node-1.18-v20220216</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2022-01-21/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.176-91.338.amzn2 (1.19 and above), 4.14.262-200.489.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Support for <code>c6a</code> instance types.</p>"},{"location":"CHANGELOG/#ami-release-v20220210","title":"AMI Release v20220210","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220210</li> <li>amazon-eks-gpu-node-1.20-v20220210</li> <li>amazon-eks-gpu-node-1.19-v20220210</li> <li>amazon-eks-gpu-node-1.18-v20220210</li> <li>amazon-eks-arm64-node-1.21-v20220210</li> <li>amazon-eks-arm64-node-1.20-v20220210</li> <li>amazon-eks-arm64-node-1.19-v20220210</li> <li>amazon-eks-arm64-node-1.18-v20220210</li> <li>amazon-eks-node-1.21-v20220210</li> <li>amazon-eks-node-1.20-v20220210</li> <li>amazon-eks-node-1.19-v20220210</li> <li>amazon-eks-node-1.18-v20220210</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2022-01-21/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.176-91.338.amzn2 (1.19 and above), 4.14.262-200.489.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02-1 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: - Upgrade kernel version for Kubernetes 1.18 to <code>4.14.262-200.489.amzn2</code>, addressing several CVE's. More information available in ALAS2-2022-1749 - Support for <code>hpc6a</code> instance types. - Removes support for the <code>chacha20-poly1305@openssh.com</code> cipher, which is not FIPS-compliant.</p>"},{"location":"CHANGELOG/#ami-release-v20220123","title":"AMI Release v20220123","text":"<ul> <li>amazon-eks-node-1.18-v20220123</li> <li>amazon-eks-arm64-node-1.18-v20220123</li> <li>amazon-eks-gpu-node-1.18-v20220123</li> <li>amazon-eks-node-1.19-v20220123</li> <li>amazon-eks-arm64-node-1.19-v20220123</li> <li>amazon-eks-gpu-node-1.19-v20220123</li> <li>amazon-eks-node-1.20-v20220123</li> <li>amazon-eks-arm64-node-1.20-v20220123</li> <li>amazon-eks-gpu-node-1.20-v20220123</li> <li>amazon-eks-node-1.21-v20220123</li> <li>amazon-eks-arm64-node-1.21-v20220123</li> <li>amazon-eks-gpu-node-1.21-v20220123</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2022-01-21/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.172-90.336.amzn2 (1.19 and above), 4.14.256-197.484.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: * Upgrade kernel version for Kubernetes 1.19 and above to 5.4.172-90.336.amzn2.x86_64 for CVE-2022-0185 * Bug fix in kubelet for 1.21 AMIs to handle compacted IPv6 addresses returned by EC2 API. New Kubelet version: <code>v1.21.5-eks-9017834</code></p>"},{"location":"CHANGELOG/#ami-release-v20220112","title":"AMI Release v20220112","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20220112</li> <li>amazon-eks-gpu-node-1.20-v20220112</li> <li>amazon-eks-gpu-node-1.19-v20220112</li> <li>amazon-eks-gpu-node-1.18-v20220112</li> <li>amazon-eks-arm64-node-1.21-v20220112</li> <li>amazon-eks-arm64-node-1.20-v20220112</li> <li>amazon-eks-arm64-node-1.19-v20220112</li> <li>amazon-eks-arm64-node-1.18-v20220112</li> <li>amazon-eks-node-1.21-v20220112</li> <li>amazon-eks-node-1.20-v20220112</li> <li>amazon-eks-node-1.19-v20220112</li> <li>amazon-eks-node-1.18-v20220112</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.162-86.275.amzn2 (1.19 and above), 4.14.256-197.484.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0-1.amzn2</p> <p>Notable changes: * Updating aws-cli ( aws-cli/1.22.32 ). Latest CLI is installed using the recommended steps here. This change is specific to this AMI release. * Added fix to handle failures when serviceIpv6Cidr isn't provided. Related issue: https://github.com/awslabs/amazon-eks-ami/issues/839. * Added fix to make ipFamily check case-insensitive</p>"},{"location":"CHANGELOG/#ami-release-v20211206","title":"AMI Release v20211206","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211206</li> <li>amazon-eks-gpu-node-1.20-v20211206</li> <li>amazon-eks-gpu-node-1.19-v20211206</li> <li>amazon-eks-gpu-node-1.18-v20211206</li> <li>amazon-eks-arm64-node-1.21-v20211206</li> <li>amazon-eks-arm64-node-1.20-v20211206</li> <li>amazon-eks-arm64-node-1.19-v20211206</li> <li>amazon-eks-arm64-node-1.18-v20211206</li> <li>amazon-eks-node-1.21-v20211206</li> <li>amazon-eks-node-1.20-v20211206</li> <li>amazon-eks-node-1.19-v20211206</li> <li>amazon-eks-node-1.18-v20211206</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/</p> <p>AMI details: * kernel: 5.4.156-83.273.amzn2 (1.19 and above), 4.14.252-195.483.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0-1.amzn2</p> <p>Notable changes: * Adds new instanceTypes to the eni-max-pods.txt file. * Patch for AL2/ALAS-2021-1722.</p>"},{"location":"CHANGELOG/#ami-release-v20211117","title":"AMI Release v20211117","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211117</li> <li>amazon-eks-gpu-node-1.20-v20211117</li> <li>amazon-eks-gpu-node-1.19-v20211117</li> <li>amazon-eks-gpu-node-1.18-v20211117</li> <li>amazon-eks-gpu-node-1.17-v20211117</li> <li>amazon-eks-arm64-node-1.21-v20211117</li> <li>amazon-eks-arm64-node-1.20-v20211117</li> <li>amazon-eks-arm64-node-1.19-v20211117</li> <li>amazon-eks-arm64-node-1.18-v20211117</li> <li>amazon-eks-arm64-node-1.17-v20211117</li> <li>amazon-eks-node-1.21-v20211117</li> <li>amazon-eks-node-1.20-v20211117</li> <li>amazon-eks-node-1.19-v20211117</li> <li>amazon-eks-node-1.18-v20211117</li> <li>amazon-eks-node-1.17-v20211117</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/ * s3://amazon-eks/1.17.17/2021-09-02/</p> <p>AMI details: * kernel: 5.4.156-83.273.amzn2 (1.19 and above), 4.14.252-195.483.amzn2 (1.18 and below) * dockerd: 20.10.7-5.amzn2 * containerd: 1.4.6-7.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0-1.amzn2</p> <p>Notable changes: Update <code>containerd</code> to <code>1.4.6-7.amzn2</code> and <code>docker</code> to <code>20.10.7-5.amzn2</code> to patch vulnerabilities in CVE-2021-41190</p>"},{"location":"CHANGELOG/#ami-release-v20211109","title":"AMI Release v20211109","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211109</li> <li>amazon-eks-gpu-node-1.20-v20211109</li> <li>amazon-eks-gpu-node-1.19-v20211109</li> <li>amazon-eks-gpu-node-1.18-v20211109</li> <li>amazon-eks-gpu-node-1.17-v20211109</li> <li>amazon-eks-arm64-node-1.21-v20211109</li> <li>amazon-eks-arm64-node-1.20-v20211109</li> <li>amazon-eks-arm64-node-1.19-v20211109</li> <li>amazon-eks-arm64-node-1.18-v20211109</li> <li>amazon-eks-arm64-node-1.17-v20211109</li> <li>amazon-eks-node-1.21-v20211109</li> <li>amazon-eks-node-1.20-v20211109</li> <li>amazon-eks-node-1.19-v20211109</li> <li>amazon-eks-node-1.18-v20211109</li> <li>amazon-eks-node-1.17-v20211109</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.21.5/2021-11-10/ * s3://amazon-eks/1.20.11/2021-11-10/ * s3://amazon-eks/1.19.15/2021-11-10/ * s3://amazon-eks/1.18.20/2021-09-02/ * s3://amazon-eks/1.17.17/2021-09-02/</p> <p>AMI details: * kernel: 5.4.149-73.259.amzn2 (1.19 and above), 4.14.252-195.483.amzn2 (1.18 and below) * dockerd: 20.10.7-3.amzn2 * containerd: 1.4.6-3.amzn2 * runc: 1.0.0-2.amzn2 * cuda: 470.57.02 * nvidia-container-runtime-hook: 1.4.0-1.amzn2 * SSM agent: 3.0.1124.0</p> <p>Notable changes: * Upgrade kernel version for 1.17 and 1.18 to 4.14.252-195.483.amzn2 * Upgrade cuda version from 460.73.01 to 470.57.02 * Upgrade kubelet version     * 1.19.14 -&gt; 1.19.15     * 1.20.10 -&gt; 1.20.11     * 1.21.4 -&gt; 1.21.5 * Remove cbc ciphers and use following recommended ciphers   * chacha20-poly1305@openssh.com   * aes128-ctr   * aes256-ctr   * aes128-gcm@openssh.com   * aes256-gcm@openssh.com</p>"},{"location":"CHANGELOG/#ami-release-v20211013","title":"AMI Release v20211013","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211013</li> <li>amazon-eks-gpu-node-1.20-v20211013</li> <li>amazon-eks-gpu-node-1.19-v20211013</li> <li>amazon-eks-gpu-node-1.18-v20211013</li> <li>amazon-eks-gpu-node-1.17-v20211013</li> <li>amazon-eks-gpu-node-1.16-v20211013</li> <li>amazon-eks-arm64-node-1.21-v20211013</li> <li>amazon-eks-arm64-node-1.20-v20211013</li> <li>amazon-eks-arm64-node-1.19-v20211013</li> <li>amazon-eks-arm64-node-1.18-v20211013</li> <li>amazon-eks-arm64-node-1.17-v20211013</li> <li>amazon-eks-arm64-node-1.16-v20211013</li> <li>amazon-eks-node-1.21-v20211013</li> <li>amazon-eks-node-1.20-v20211013</li> <li>amazon-eks-node-1.19-v20211013</li> <li>amazon-eks-node-1.18-v20211013</li> <li>amazon-eks-node-1.17-v20211013</li> <li>amazon-eks-node-1.16-v20211013</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.21.4/2021-10-12/</li> <li>s3://amazon-eks/1.20.10/2021-10-12/</li> <li>s3://amazon-eks/1.19.14/2021-10-12/</li> <li>s3://amazon-eks/1.18.20/2021-09-02/</li> <li>s3://amazon-eks/1.17.17/2021-09-02/</li> <li>s3://amazon-eks/1.16.15/2021-09-02/</li> </ul> <p>AMI details:</p> <ul> <li>kernel: 5.4.149-73.259.amzn2 (1.19 and above), 4.14.248-189.473.amzn2 (1.18 and below)</li> <li>dockerd: 20.10.7-3.amzn2</li> <li>containerd: 1.4.6-3.amzn2</li> <li>runc: 1.0.0-2.amzn2</li> <li>cuda: 460.73.01</li> <li>nvidia-container-runtime-hook: 1.4.0-1.amzn2</li> <li>SSM agent: 3.0.1124.0</li> </ul> <p>Notable changes:</p> <ul> <li>A fix has been made to the GPU AMIs to ensure they work correctly with containerd as the container runtime.</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20211008","title":"AMI Release v20211008","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211008</li> <li>amazon-eks-gpu-node-1.20-v20211008</li> <li>amazon-eks-gpu-node-1.19-v20211008</li> <li>amazon-eks-gpu-node-1.18-v20211008</li> <li>amazon-eks-gpu-node-1.17-v20211008</li> <li>amazon-eks-gpu-node-1.16-v20211008</li> <li>amazon-eks-gpu-node-1.15-v20211008</li> <li>amazon-eks-arm64-node-1.21-v20211008</li> <li>amazon-eks-arm64-node-1.20-v20211008</li> <li>amazon-eks-arm64-node-1.19-v20211008</li> <li>amazon-eks-arm64-node-1.18-v20211008</li> <li>amazon-eks-arm64-node-1.17-v20211008</li> <li>amazon-eks-arm64-node-1.16-v20211008</li> <li>amazon-eks-arm64-node-1.15-v20211008</li> <li>amazon-eks-node-1.21-v20211008</li> <li>amazon-eks-node-1.20-v20211008</li> <li>amazon-eks-node-1.19-v20211008</li> <li>amazon-eks-node-1.18-v20211008</li> <li>amazon-eks-node-1.17-v20211008</li> <li>amazon-eks-node-1.16-v20211008</li> <li>amazon-eks-node-1.15-v20211008</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.21.4/2021-10-12/</li> <li>s3://amazon-eks/1.20.10/2021-10-12/</li> <li>s3://amazon-eks/1.19.14/2021-10-12/</li> <li>s3://amazon-eks/1.18.20/2021-09-02/</li> <li>s3://amazon-eks/1.17.17/2021-09-02/</li> <li>s3://amazon-eks/1.16.15/2021-09-02/</li> </ul> <p>AMI details:</p> <ul> <li>kernel: 5.4.149-73.259.amzn2 (1.19 and above), 4.14.248-189.473.amzn2 (1.18 and below)</li> <li>dockerd: 20.10.7-3.amzn2</li> <li>containerd: 1.4.6-3.amzn2</li> <li>runc: 1.0.0-2.amzn2</li> <li>cuda: 460.73.01</li> <li>nvidia-container-runtime-hook: 1.4.0-1.amzn2</li> <li>SSM agent: 3.0.1124.0</li> </ul> <p>Notable changes:</p> <ul> <li>kubelet binaries have been updated for Kubernetes versions 1.19, 1.20 and 1.21, which include a patch to fix an issue where kubelet can fail to unmount volumes</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20211004","title":"AMI Release v20211004","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20211004</li> <li>amazon-eks-gpu-node-1.19-v20211004</li> <li>amazon-eks-gpu-node-1.18-v20211004</li> <li>amazon-eks-gpu-node-1.17-v20211004</li> <li>amazon-eks-gpu-node-1.16-v20211004</li> <li>amazon-eks-gpu-node-1.15-v20211004</li> <li>amazon-eks-arm64-node-1.20-v20211004</li> <li>amazon-eks-arm64-node-1.19-v20211004</li> <li>amazon-eks-arm64-node-1.18-v20211004</li> <li>amazon-eks-arm64-node-1.17-v20211004</li> <li>amazon-eks-arm64-node-1.16-v20211004</li> <li>amazon-eks-arm64-node-1.15-v20211004</li> <li>amazon-eks-node-1.20-v20211004</li> <li>amazon-eks-node-1.19-v20211004</li> <li>amazon-eks-node-1.18-v20211004</li> <li>amazon-eks-node-1.17-v20211004</li> <li>amazon-eks-node-1.16-v20211004</li> <li>amazon-eks-node-1.15-v20211004</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.21.2/2021-04-12/</li> <li>s3://amazon-eks/1.20.7/2021-04-12/</li> <li>s3://amazon-eks/1.19.13/2021-01-05/</li> <li>s3://amazon-eks/1.18.20/2020-11-02/</li> <li>s3://amazon-eks/1.17.17/2020-11-02/</li> <li>s3://amazon-eks/1.16.15/2020-11-02/</li> </ul> <p>AMI details:</p> <ul> <li>kernel: 5.4.149-73.259.amzn2 (1.19 and above), 4.14.246-187.474.amzn2 (1.18 and below)</li> <li>dockerd: 20.10.7-3.amzn2</li> <li>containerd: 1.4.6-3.amzn2</li> <li>runc: 1.0.0-2.amzn2</li> <li>cuda: 460.73.01</li> <li>nvidia-container-runtime-hook: 460.73.01</li> <li>SSM agent: 3.0.1124.0</li> </ul> <p>Notable changes: * Created AMI released on the latest commit</p>"},{"location":"CHANGELOG/#ami-release-v20211003","title":"AMI Release v20211003","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20211003</li> <li>amazon-eks-gpu-node-1.19-v20211003</li> <li>amazon-eks-gpu-node-1.18-v20211003</li> <li>amazon-eks-gpu-node-1.17-v20211003</li> <li>amazon-eks-gpu-node-1.16-v20211003</li> <li>amazon-eks-gpu-node-1.15-v20211003</li> <li>amazon-eks-arm64-node-1.20-v20211003</li> <li>amazon-eks-arm64-node-1.19-v20211003</li> <li>amazon-eks-arm64-node-1.18-v20211003</li> <li>amazon-eks-arm64-node-1.17-v20211003</li> <li>amazon-eks-arm64-node-1.16-v20211003</li> <li>amazon-eks-arm64-node-1.15-v20211003</li> <li>amazon-eks-node-1.20-v20211003</li> <li>amazon-eks-node-1.19-v20211003</li> <li>amazon-eks-node-1.18-v20211003</li> <li>amazon-eks-node-1.17-v20211003</li> <li>amazon-eks-node-1.16-v20211003</li> <li>amazon-eks-node-1.15-v20211003</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.21.2/2021-04-12/</li> <li>s3://amazon-eks/1.20.7/2021-04-12/</li> <li>s3://amazon-eks/1.19.13/2021-01-05/</li> <li>s3://amazon-eks/1.18.20/2020-11-02/</li> <li>s3://amazon-eks/1.17.17/2020-11-02/</li> <li>s3://amazon-eks/1.16.15/2020-11-02/</li> </ul> <p>AMI details:</p> <ul> <li>kernel: 5.4.144-69.257.amzn2 (1.19 and above), (1.18 and below)</li> <li>dockerd: 20.10.7-3.amzn2</li> <li>containerd: 1.4.6-3.amzn2</li> <li>runc: 1.0.0-2.amzn2</li> <li>cuda: 460.73.01</li> <li>nvidia-container-runtime-hook: 460.73.01</li> <li>SSM agent: 3.0.1124.0</li> </ul> <p>Notable changes:</p> <ul> <li>Updated version of RunC to 1.0.0-2.amzn2</li> <li>Updated version of Docker to 20.10.7-3.amzn2</li> <li>Updated version of Containerd to 1.4.6-3.amzn2</li> <li>Following CVEs are addressed Docker (CVE-2021-41089, CVE-2021-41091, CVE-2021-41092) and containerd (CVE-2021-41103)</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20211001","title":"AMI Release v20211001","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20211001</li> <li>amazon-eks-gpu-node-1.20-v20211001</li> <li>amazon-eks-gpu-node-1.19-v20211001</li> <li>amazon-eks-gpu-node-1.18-v20211001</li> <li>amazon-eks-gpu-node-1.17-v20211001</li> <li>amazon-eks-gpu-node-1.16-v20211001</li> <li>amazon-eks-arm64-node-1.21-v20211001</li> <li>amazon-eks-arm64-node-1.20-v20211001</li> <li>amazon-eks-arm64-node-1.19-v20211001</li> <li>amazon-eks-arm64-node-1.18-v20211001</li> <li>amazon-eks-arm64-node-1.17-v20211001</li> <li>amazon-eks-arm64-node-1.16-v20211001</li> <li>amazon-eks-node-1.21-v20211001</li> <li>amazon-eks-node-1.20-v20211001</li> <li>amazon-eks-node-1.19-v20211001</li> <li>amazon-eks-node-1.18-v20211001</li> <li>amazon-eks-node-1.17-v20211001</li> <li>amazon-eks-node-1.16-v20211001</li> </ul> <p>Binaries used to build these AMIs are published:</p> <p>s3://amazon-eks/1.20.4/2021-04-12/ s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>AMI details:</p> <ul> <li>kernel: 5.4.144-69.257.amzn2 (1.19 and above), (1.18 and below)</li> <li>dockerd: 19.03.13-ce</li> <li>containerd: 1.4.6</li> <li>runc: 1.0.0.amzn2</li> <li>cuda: 460.73.01</li> <li>nvidia-container-runtime-hook: 460.73.01</li> <li>SSM agent: 3.0.1124.0</li> </ul> <p>Notable changes: * This release includes the patch for the CA to handle Let's Encrypt Certificate Expiry * Updating default containerd socket path</p>"},{"location":"CHANGELOG/#ami-release-v20210914","title":"AMI Release v20210914","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210914</li> <li>amazon-eks-gpu-node-1.20-v20210914</li> <li>amazon-eks-gpu-node-1.19-v20210914</li> <li>amazon-eks-gpu-node-1.18-v20210914</li> <li>amazon-eks-gpu-node-1.17-v20210914</li> <li>amazon-eks-gpu-node-1.16-v20210914</li> <li>amazon-eks-arm64-node-1.21-v20210914</li> <li>amazon-eks-arm64-node-1.20-v20210914</li> <li>amazon-eks-arm64-node-1.19-v20210914</li> <li>amazon-eks-arm64-node-1.18-v20210914</li> <li>amazon-eks-arm64-node-1.17-v20210914</li> <li>amazon-eks-arm64-node-1.16-v20210914</li> <li>amazon-eks-node-1.21-v20210914</li> <li>amazon-eks-node-1.20-v20210914</li> <li>amazon-eks-node-1.19-v20210914</li> <li>amazon-eks-node-1.18-v20210914</li> <li>amazon-eks-node-1.17-v20210914</li> <li>amazon-eks-node-1.16-v20210914</li> </ul> <p>Notable changes: Adding support for new ec2 instance types i.e. m6i</p>"},{"location":"CHANGELOG/#ami-release-v20210830","title":"AMI Release v20210830","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210830</li> <li>amazon-eks-gpu-node-1.20-v20210830</li> <li>amazon-eks-gpu-node-1.19-v20210830</li> <li>amazon-eks-gpu-node-1.18-v20210830</li> <li>amazon-eks-gpu-node-1.17-v20210830</li> <li>amazon-eks-gpu-node-1.16-v20210830</li> <li>amazon-eks-arm64-node-1.21-v20210830</li> <li>amazon-eks-arm64-node-1.20-v20210830</li> <li>amazon-eks-arm64-node-1.19-v20210830</li> <li>amazon-eks-arm64-node-1.18-v20210830</li> <li>amazon-eks-arm64-node-1.17-v20210830</li> <li>amazon-eks-arm64-node-1.16-v20210830</li> <li>amazon-eks-node-1.21-v20210830</li> <li>amazon-eks-node-1.20-v20210830</li> <li>amazon-eks-node-1.19-v20210830</li> <li>amazon-eks-node-1.18-v20210830</li> <li>amazon-eks-node-1.17-v20210830</li> <li>amazon-eks-node-1.16-v20210830</li> </ul> <p>Notable changes:</p> <ul> <li>Upgrade kubelet version for 1.17 and 1.20</li> <li>1.17.12 -&gt; 1.17.17</li> <li>1.20.4 -&gt; 1.20.7</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20210826","title":"AMI Release v20210826","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210826</li> <li>amazon-eks-gpu-node-1.20-v20210826</li> <li>amazon-eks-gpu-node-1.19-v20210826</li> <li>amazon-eks-gpu-node-1.18-v20210826</li> <li>amazon-eks-gpu-node-1.17-v20210826</li> <li>amazon-eks-gpu-node-1.16-v20210826</li> <li>amazon-eks-gpu-node-1.15-v20210826</li> <li>amazon-eks-arm64-node-1.21-v20210826</li> <li>amazon-eks-arm64-node-1.20-v20210826</li> <li>amazon-eks-arm64-node-1.19-v20210826</li> <li>amazon-eks-arm64-node-1.18-v20210826</li> <li>amazon-eks-arm64-node-1.17-v20210826</li> <li>amazon-eks-arm64-node-1.16-v20210826</li> <li>amazon-eks-arm64-node-1.15-v20210826</li> <li>amazon-eks-node-1.21-v20210826</li> <li>amazon-eks-node-1.20-v20210826</li> <li>amazon-eks-node-1.19-v20210826</li> <li>amazon-eks-node-1.18-v20210826</li> <li>amazon-eks-node-1.17-v20210826</li> <li>amazon-eks-node-1.16-v20210826</li> <li>amazon-eks-node-1.15-v20210826</li> </ul> <p>Notable changes:</p> <ul> <li>Fix to reduce permissions of <code>pull-sandbox-image.sh</code> c78bb6b</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20210813","title":"AMI Release v20210813","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210813</li> <li>amazon-eks-gpu-node-1.20-v20210813</li> <li>amazon-eks-gpu-node-1.19-v20210813</li> <li>amazon-eks-gpu-node-1.18-v20210813</li> <li>amazon-eks-gpu-node-1.17-v20210813</li> <li>amazon-eks-gpu-node-1.16-v20210813</li> <li>amazon-eks-gpu-node-1.15-v20210813</li> <li>amazon-eks-arm64-node-1.21-v20210813</li> <li>amazon-eks-arm64-node-1.20-v20210813</li> <li>amazon-eks-arm64-node-1.19-v20210813</li> <li>amazon-eks-arm64-node-1.18-v20210813</li> <li>amazon-eks-arm64-node-1.17-v20210813</li> <li>amazon-eks-arm64-node-1.16-v20210813</li> <li>amazon-eks-arm64-node-1.15-v20210813</li> <li>amazon-eks-node-1.21-v20210813</li> <li>amazon-eks-node-1.20-v20210813</li> <li>amazon-eks-node-1.19-v20210813</li> <li>amazon-eks-node-1.18-v20210813</li> <li>amazon-eks-node-1.17-v20210813</li> <li>amazon-eks-node-1.16-v20210813</li> <li>amazon-eks-node-1.15-v20210813</li> </ul> <p>Notable changes: * Contains fix for sanbox-image issue with containerd in Gov-cloud and CN regions. * Updating to 1.18.20 and 1.19.13 kubernetes version.</p>"},{"location":"CHANGELOG/#ami-release-v20210722","title":"AMI Release v20210722","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210722</li> <li>amazon-eks-gpu-node-1.20-v20210722</li> <li>amazon-eks-gpu-node-1.19-v20210722</li> <li>amazon-eks-gpu-node-1.18-v20210722</li> <li>amazon-eks-gpu-node-1.17-v20210722</li> <li>amazon-eks-gpu-node-1.16-v20210722</li> <li>amazon-eks-gpu-node-1.15-v20210722</li> <li>amazon-eks-arm64-node-1.21-v20210722</li> <li>amazon-eks-arm64-node-1.20-v20210722</li> <li>amazon-eks-arm64-node-1.19-v20210722</li> <li>amazon-eks-arm64-node-1.18-v20210722</li> <li>amazon-eks-arm64-node-1.17-v20210722</li> <li>amazon-eks-arm64-node-1.16-v20210722</li> <li>amazon-eks-arm64-node-1.15-v20210722</li> <li>amazon-eks-node-1.21-v20210722</li> <li>amazon-eks-node-1.20-v20210722</li> <li>amazon-eks-node-1.19-v20210722</li> <li>amazon-eks-node-1.18-v20210722</li> <li>amazon-eks-node-1.17-v20210722</li> <li>amazon-eks-node-1.16-v20210722</li> <li>amazon-eks-node-1.15-v20210722</li> </ul> <p>Notable changes: * This release includes the security patch for the kernel, for CVE-2021-33909.</p>"},{"location":"CHANGELOG/#ami-release-v20210720","title":"AMI Release v20210720","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210720</li> <li>amazon-eks-gpu-node-1.20-v20210720</li> <li>amazon-eks-gpu-node-1.19-v20210720</li> <li>amazon-eks-gpu-node-1.18-v20210720</li> <li>amazon-eks-gpu-node-1.17-v20210720</li> <li>amazon-eks-gpu-node-1.16-v20210720</li> <li>amazon-eks-gpu-node-1.15-v20210720</li> <li>amazon-eks-arm64-node-1.21-v20210720</li> <li>amazon-eks-arm64-node-1.20-v20210720</li> <li>amazon-eks-arm64-node-1.19-v20210720</li> <li>amazon-eks-arm64-node-1.18-v20210720</li> <li>amazon-eks-arm64-node-1.17-v20210720</li> <li>amazon-eks-arm64-node-1.16-v20210720</li> <li>amazon-eks-arm64-node-1.15-v20210720</li> <li>amazon-eks-node-1.21-v20210720</li> <li>amazon-eks-node-1.20-v20210720</li> <li>amazon-eks-node-1.19-v20210720</li> <li>amazon-eks-node-1.18-v20210720</li> <li>amazon-eks-node-1.17-v20210720</li> <li>amazon-eks-node-1.16-v20210720</li> <li>amazon-eks-node-1.15-v20210720</li> </ul> <p>EKS AMI release for Kubernetes version 1.21 (1.21 AMIs for GPU and ARM in us-gov-west-1 and us-gov-east-1 are included in this release) * Note: The containerd has patch for CVE-2-21-32760</p> <p>Containerd runtime support The EKS Optimized Amazon Linux 2 AMI now contains a bootstrap (https://github.com/awslabs/amazon-eks-ami/blob/master/files/bootstrap.sh) flag --container-runtime to optionally enable the containerd runtime. This flag is available in all supported Kubernetes versions of the AMI. This change is to get ahead of the removal of Docker as a supported runtime in Kubernetes (more details here (https://kubernetes.io/blog/2020/12/02/dockershim-faq/)). Feedback is appreciated.</p> <p>FIPS Kernel Panic issue on 5.4.X is fixed - https://github.com/awslabs/amazon-eks-ami/issues/632</p>"},{"location":"CHANGELOG/#ami-release-v20210716","title":"AMI Release v20210716","text":"<ul> <li>amazon-eks-gpu-node-1.21-v20210716</li> <li>amazon-eks-gpu-node-1.20-v20210716</li> <li>amazon-eks-gpu-node-1.19-v20210716</li> <li>amazon-eks-gpu-node-1.18-v20210716</li> <li>amazon-eks-gpu-node-1.17-v20210716</li> <li>amazon-eks-gpu-node-1.16-v20210716</li> <li>amazon-eks-gpu-node-1.15-v20210716</li> <li>amazon-eks-arm64-node-1.21-v20210716</li> <li>amazon-eks-arm64-node-1.20-v20210716</li> <li>amazon-eks-arm64-node-1.19-v20210716</li> <li>amazon-eks-arm64-node-1.18-v20210716</li> <li>amazon-eks-arm64-node-1.17-v20210716</li> <li>amazon-eks-arm64-node-1.16-v20210716</li> <li>amazon-eks-arm64-node-1.15-v20210716</li> <li>amazon-eks-node-1.21-v20210716</li> <li>amazon-eks-node-1.20-v20210716</li> <li>amazon-eks-node-1.19-v20210716</li> <li>amazon-eks-node-1.18-v20210716</li> <li>amazon-eks-node-1.17-v20210716</li> <li>amazon-eks-node-1.16-v20210716</li> <li>amazon-eks-node-1.15-v20210716</li> </ul> <p>EKS AMI release for Kubernetes version 1.21 (1.21 AMIs for GPU and ARM in us-gov-west-1 and us-gov-east-1 aren't a part of this release) * Note: The containerd has patch for CVE-2-21-32760</p> <p>Containerd runtime support The EKS Optimized Amazon Linux 2 AMI now contains a bootstrap (https://github.com/awslabs/amazon-eks-ami/blob/master/files/bootstrap.sh) flag --container-runtime to optionally enable the containerd runtime. This flag is available in all supported Kubernetes versions of the AMI. This change is to get ahead of the removal of Docker as a supported runtime in Kubernetes (more details here (https://kubernetes.io/blog/2020/12/02/dockershim-faq/)). Feedback is appreciated.</p> <p>FIPS Kernel Panic issue on 5.4.X is fixed - https://github.com/awslabs/amazon-eks-ami/issues/632</p>"},{"location":"CHANGELOG/#ami-release-v20210628","title":"AMI Release v20210628","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20210628</li> <li>amazon-eks-gpu-node-1.19-v20210628</li> <li>amazon-eks-gpu-node-1.18-v20210628</li> <li>amazon-eks-gpu-node-1.17-v20210628</li> <li>amazon-eks-gpu-node-1.16-v20210628</li> <li>amazon-eks-gpu-node-1.15-v20210628</li> <li>amazon-eks-arm64-node-1.20-v20210628</li> <li>amazon-eks-arm64-node-1.19-v20210628</li> <li>amazon-eks-arm64-node-1.18-v20210628</li> <li>amazon-eks-arm64-node-1.17-v20210628</li> <li>amazon-eks-arm64-node-1.16-v20210628</li> <li>amazon-eks-arm64-node-1.15-v20210628</li> <li>amazon-eks-node-1.20-v20210628</li> <li>amazon-eks-node-1.19-v20210628</li> <li>amazon-eks-node-1.18-v20210628</li> <li>amazon-eks-node-1.17-v20210628</li> <li>amazon-eks-node-1.16-v20210628</li> <li>amazon-eks-node-1.15-v20210628</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.20.4/2021-04-12/ * s3://amazon-eks/1.19.6/2021-01-05/ * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>AMI details: * kernel: 5.4.117-58.216.amzn2 (1.19 and above), 4.14.232-177.418.amzn2 (1.18 and below) * dockerd: 19.03.13ce * containerd: 1.4.1 * runc: 1.0.0-rc93 * cuda: 460.73.01 * nvidia-container-runtime-hook: 460.73.01 * SSM agent: 3.0.1295.0</p> <p>Notable changes:</p> <p>Includes the latest security patches for systemd, python3 and others.</p>"},{"location":"CHANGELOG/#ami-release-v20210621","title":"AMI Release v20210621","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20210621</li> <li>amazon-eks-gpu-node-1.19-v20210621</li> <li>amazon-eks-gpu-node-1.18-v20210621</li> <li>amazon-eks-gpu-node-1.17-v20210621</li> <li>amazon-eks-gpu-node-1.16-v20210621</li> <li>amazon-eks-gpu-node-1.15-v20210621</li> <li>amazon-eks-arm64-node-1.20-v20210621</li> <li>amazon-eks-arm64-node-1.19-v20210621</li> <li>amazon-eks-arm64-node-1.18-v20210621</li> <li>amazon-eks-arm64-node-1.17-v20210621</li> <li>amazon-eks-arm64-node-1.16-v20210621</li> <li>amazon-eks-arm64-node-1.15-v20210621</li> <li>amazon-eks-node-1.20-v20210621</li> <li>amazon-eks-node-1.19-v20210621</li> <li>amazon-eks-node-1.18-v20210621</li> <li>amazon-eks-node-1.17-v20210621</li> <li>amazon-eks-node-1.16-v20210621</li> <li>amazon-eks-node-1.15-v20210621</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.20.4/2021-04-12/ * s3://amazon-eks/1.19.6/2021-01-05/ * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>AMI details: * kernel: 5.4.117-58.216.amzn2.x86_64 (1.19 and above), 4.14.232-176.381.amzn2.x86_64 (1.18 and below) * dockerd: 19.03.13-ce * containerd: 1.4.1 * runc: 1.0.0-rc93 * cuda: 460.73.01 * nvidia-container-runtime-hook: 1.4.0 * SSM agent: 3.0.1295.0</p> <p>Notable changes: * The SSM Agent will now be automatically installed</p>"},{"location":"CHANGELOG/#ami-release-v20210526","title":"AMI Release v20210526","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20210526</li> <li>amazon-eks-gpu-node-1.19-v20210526</li> <li>amazon-eks-gpu-node-1.18-v20210526</li> <li>amazon-eks-gpu-node-1.17-v20210526</li> <li>amazon-eks-gpu-node-1.16-v20210526</li> <li>amazon-eks-gpu-node-1.15-v20210526</li> <li>amazon-eks-arm64-node-1.20-v20210526</li> <li>amazon-eks-arm64-node-1.19-v20210526</li> <li>amazon-eks-arm64-node-1.18-v20210526</li> <li>amazon-eks-arm64-node-1.17-v20210526</li> <li>amazon-eks-arm64-node-1.16-v20210526</li> <li>amazon-eks-arm64-node-1.15-v20210526</li> <li>amazon-eks-node-1.20-v20210526</li> <li>amazon-eks-node-1.19-v20210526</li> <li>amazon-eks-node-1.18-v20210526</li> <li>amazon-eks-node-1.17-v20210526</li> <li>amazon-eks-node-1.16-v20210526</li> <li>amazon-eks-node-1.15-v20210526</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.20.4/2021-04-12/ * s3://amazon-eks/1.19.6/2021-01-05/ * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>AMI details: * kernel: 5.4.117-58.216.amzn2.x86_64 (1.19 and above), 4.14.232-176.381.amzn2.x86_64 (1.18 and below) * dockerd: 19.03.13-ce * containerd: 1.4.1 * runc: 1.0.0-rc93 * cuda: 460.73.01 * nvidia-container-runtime-hook: 1.4.0</p> <p>Notable changes: * CVE-2021-25215 patch * kenel patch for following CVEs: CVE-2021-31829, CVE-2021-23133, CVE-2020-29374</p>"},{"location":"CHANGELOG/#ami-release-v20210519","title":"AMI Release v20210519","text":"<ul> <li>amazon-eks-gpu-node-1.20-v20210519</li> <li>amazon-eks-gpu-node-1.19-v20210519</li> <li>amazon-eks-gpu-node-1.18-v20210519</li> <li>amazon-eks-gpu-node-1.17-v20210519</li> <li>amazon-eks-gpu-node-1.16-v20210519</li> <li>amazon-eks-gpu-node-1.15-v20210519</li> <li>amazon-eks-arm64-node-1.20-v20210519</li> <li>amazon-eks-arm64-node-1.19-v20210519</li> <li>amazon-eks-arm64-node-1.18-v20210519</li> <li>amazon-eks-arm64-node-1.17-v20210519</li> <li>amazon-eks-arm64-node-1.16-v20210519</li> <li>amazon-eks-arm64-node-1.15-v20210519</li> <li>amazon-eks-node-1.20-v20210519</li> <li>amazon-eks-node-1.19-v20210519</li> <li>amazon-eks-node-1.18-v20210519</li> <li>amazon-eks-node-1.17-v20210519</li> <li>amazon-eks-node-1.16-v20210519</li> <li>amazon-eks-node-1.15-v20210519</li> </ul> <p>Binaries used to build these AMIs are published: * s3://amazon-eks/1.20.4/2021-04-12/ * s3://amazon-eks/1.19.6/2021-01-05/ * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>AMI details: * kernel: 5.4.110-54.189.amzn2.x86_64 (1.19 and above), 4.14.231-173.361.amzn2.x86_64 (1.18 and below) * dockerd: 19.03.13-ce * containerd: 1.4.1 * runc: 1.0.0-rc93 * cuda: 460.73.01 * nvidia-container-runtime-hook: 1.4.0</p> <p>Notable changes: * <code>runc</code> version upgrade to <code>rc93</code> for GPU AMIs * fix for #2530 backported to <code>rc93</code> for GPU AMIs * <code>runc</code> CVE 2021-30465 patch backported to <code>rc93</code> for GPU AMIs</p>"},{"location":"CHANGELOG/#ami-release-v20210518","title":"AMI Release v20210518","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210518</li> <li>amazon-eks-gpu-node-1.18-v20210518</li> <li>amazon-eks-gpu-node-1.17-v20210518</li> <li>amazon-eks-gpu-node-1.16-v20210518</li> <li>amazon-eks-gpu-node-1.15-v20210518</li> <li>amazon-eks-arm64-node-1.19-v20210518</li> <li>amazon-eks-arm64-node-1.18-v20210518</li> <li>amazon-eks-arm64-node-1.17-v20210518</li> <li>amazon-eks-arm64-node-1.16-v20210518</li> <li>amazon-eks-arm64-node-1.15-v20210518</li> <li>amazon-eks-node-1.19-v20210518</li> <li>amazon-eks-node-1.18-v20210518</li> <li>amazon-eks-node-1.17-v20210518</li> <li>amazon-eks-node-1.16-v20210518</li> <li>amazon-eks-node-1.15-v20210518</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.20.4/2021-04-12/</li> <li>s3://amazon-eks/1.19.6/2021-01-05/</li> <li>s3://amazon-eks/1.18.9/2020-11-02/</li> <li>s3://amazon-eks/1.17.12/2020-11-02/</li> <li>s3://amazon-eks/1.16.15/2020-11-02/</li> <li>s3://amazon-eks/1.15.12/2020-11-02/</li> </ul> <p>Notable changes: * <code>runc</code> version upgrade to <code>rc93</code> * fix for #2530 backported to <code>rc93</code> * <code>runc</code> CVE 2021-30465 patch backported to <code>rc93</code></p>"},{"location":"CHANGELOG/#ami-release-v20210512","title":"AMI Release v20210512","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210512</li> <li>amazon-eks-gpu-node-1.18-v20210512</li> <li>amazon-eks-gpu-node-1.17-v20210512</li> <li>amazon-eks-gpu-node-1.16-v20210512</li> <li>amazon-eks-gpu-node-1.15-v20210512</li> <li>amazon-eks-arm64-node-1.19-v20210512</li> <li>amazon-eks-arm64-node-1.18-v20210512</li> <li>amazon-eks-arm64-node-1.17-v20210512</li> <li>amazon-eks-arm64-node-1.16-v20210512</li> <li>amazon-eks-arm64-node-1.15-v20210512</li> <li>amazon-eks-node-1.19-v20210512</li> <li>amazon-eks-node-1.18-v20210512</li> <li>amazon-eks-node-1.17-v20210512</li> <li>amazon-eks-node-1.16-v20210512</li> <li>amazon-eks-node-1.15-v20210512</li> </ul> <p>Binaries used to build these AMIs are published:</p> <ul> <li>s3://amazon-eks/1.20.4/2021-04-12/</li> <li>s3://amazon-eks/1.19.6/2021-01-05/</li> <li>s3://amazon-eks/1.18.9/2020-11-02/</li> <li>s3://amazon-eks/1.17.12/2020-11-02/</li> <li>s3://amazon-eks/1.16.15/2020-11-02/</li> <li>s3://amazon-eks/1.15.12/2020-11-02/</li> </ul> <p>Notable changes: * Release 1.20 AMIs</p>"},{"location":"CHANGELOG/#ami-release-v20210504","title":"AMI Release v20210504","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210504</li> <li>amazon-eks-gpu-node-1.18-v20210504</li> <li>amazon-eks-gpu-node-1.17-v20210504</li> <li>amazon-eks-gpu-node-1.16-v20210504</li> <li>amazon-eks-gpu-node-1.15-v20210504</li> <li>amazon-eks-arm64-node-1.19-v20210504</li> <li>amazon-eks-arm64-node-1.18-v20210504</li> <li>amazon-eks-arm64-node-1.17-v20210504</li> <li>amazon-eks-arm64-node-1.16-v20210504</li> <li>amazon-eks-arm64-node-1.15-v20210504</li> <li>amazon-eks-node-1.19-v20210504</li> <li>amazon-eks-node-1.18-v20210504</li> <li>amazon-eks-node-1.17-v20210504</li> <li>amazon-eks-node-1.16-v20210504</li> <li>amazon-eks-node-1.15-v20210504</li> </ul> <p>Binaries used to build these AMIs are published:</p> <p>s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes:</p> <ul> <li>Update Kernel (1.19: 5.4.110-54.189.amzn2.x86_64, 1.18 and below: 4.14.231-173.361.amzn2.x86_64) to address a vulnerability. More information available in ALAS-2021-1634</li> <li>Update Nvidia and Cuda drivers to v460.73.01</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20210501","title":"AMI Release v20210501","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210501</li> <li>amazon-eks-gpu-node-1.18-v20210501</li> <li>amazon-eks-gpu-node-1.17-v20210501</li> <li>amazon-eks-gpu-node-1.16-v20210501</li> <li>amazon-eks-gpu-node-1.15-v20210501</li> <li>amazon-eks-arm64-node-1.19-v20210501</li> <li>amazon-eks-arm64-node-1.18-v20210501</li> <li>amazon-eks-arm64-node-1.17-v20210501</li> <li>amazon-eks-arm64-node-1.16-v20210501</li> <li>amazon-eks-arm64-node-1.15-v20210501</li> <li>amazon-eks-node-1.19-v20210501</li> <li>amazon-eks-node-1.18-v20210501</li> <li>amazon-eks-node-1.17-v20210501</li> <li>amazon-eks-node-1.16-v20210501</li> <li>amazon-eks-node-1.15-v20210501</li> </ul> <p>Binaries used to build these AMIs are published:</p> <p>s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes:</p> <ul> <li>Patches for Linux kernel 4.14, used by AMIs with Kubernetes v1.18 and below (CVE ALAS2-2021-1627)</li> <li>Patches for Linux kernel 5.4, used by AMIs with Kubernetes v1.19 to fix a race condition with Conntrack.</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20210414","title":"AMI Release v20210414","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210414</li> <li>amazon-eks-gpu-node-1.18-v20210414</li> <li>amazon-eks-gpu-node-1.17-v20210414</li> <li>amazon-eks-gpu-node-1.16-v20210414</li> <li>amazon-eks-gpu-node-1.15-v20210414</li> <li>amazon-eks-arm64-node-1.19-v20210414</li> <li>amazon-eks-arm64-node-1.18-v20210414</li> <li>amazon-eks-arm64-node-1.17-v20210414</li> <li>amazon-eks-arm64-node-1.16-v20210414</li> <li>amazon-eks-arm64-node-1.15-v20210414</li> <li>amazon-eks-node-1.19-v20210414</li> <li>amazon-eks-node-1.18-v20210414</li> <li>amazon-eks-node-1.17-v20210414</li> <li>amazon-eks-node-1.16-v20210414</li> <li>amazon-eks-node-1.15-v20210414</li> </ul> <p>Binaries used to build these AMIs are published: s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes: A regression was introduced for 1.19 AMI in the last release as a result of runc version update to <code>1.0.0-rc93</code> causing nodes to flap between <code>Ready</code> and <code>NotReady</code>, more details #648. We are reverting the runc version back to 1.0.0-rc92.</p>"},{"location":"CHANGELOG/#ami-release-v20210329","title":"AMI Release v20210329","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210329</li> <li>amazon-eks-gpu-node-1.18-v20210329</li> <li>amazon-eks-gpu-node-1.17-v20210329</li> <li>amazon-eks-gpu-node-1.16-v20210329</li> <li>amazon-eks-gpu-node-1.15-v20210329</li> <li>amazon-eks-arm64-node-1.19-v20210329</li> <li>amazon-eks-arm64-node-1.18-v20210329</li> <li>amazon-eks-arm64-node-1.17-v20210329</li> <li>amazon-eks-arm64-node-1.16-v20210329</li> <li>amazon-eks-arm64-node-1.15-v20210329</li> <li>amazon-eks-node-1.19-v20210329</li> <li>amazon-eks-node-1.18-v20210329</li> <li>amazon-eks-node-1.17-v20210329</li> <li>amazon-eks-node-1.16-v20210329</li> <li>amazon-eks-node-1.15-v20210329</li> </ul> <p>Binaries used to build these AMIs are published: s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes: A regression was introduced to the 4.14 Amazon Linux Kernel where I/O could slow significantly after running some workloads for a long period of time (observations point to between 4 hours and several days). This release contains the Kernel patch which fixes the above issue.</p>"},{"location":"CHANGELOG/#ami-release-v20210322","title":"AMI Release v20210322","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210322</li> <li>amazon-eks-gpu-node-1.18-v20210322</li> <li>amazon-eks-gpu-node-1.17-v20210322</li> <li>amazon-eks-gpu-node-1.16-v20210322</li> <li>amazon-eks-gpu-node-1.15-v20210322</li> <li>amazon-eks-arm64-node-1.19-v20210322</li> <li>amazon-eks-arm64-node-1.18-v20210322</li> <li>amazon-eks-arm64-node-1.17-v20210322</li> <li>amazon-eks-arm64-node-1.16-v20210322</li> <li>amazon-eks-arm64-node-1.15-v20210322</li> <li>amazon-eks-node-1.19-v20210322</li> <li>amazon-eks-node-1.18-v20210322</li> <li>amazon-eks-node-1.17-v20210322</li> <li>amazon-eks-node-1.16-v20210322</li> <li>amazon-eks-node-1.15-v20210322</li> </ul> <p>Binaries used to build these AMIs are published : s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : - Updates Nvidia drivers to version <code>460.32.03</code> - patch for CVE-2021-27363, CVE-2021-27364, CVE-2021-27365 - set kubelet log verbosity to 2</p>"},{"location":"CHANGELOG/#ami-release-v20210310","title":"AMI Release v20210310","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210310</li> <li>amazon-eks-gpu-node-1.18-v20210310</li> <li>amazon-eks-gpu-node-1.17-v20210310</li> <li>amazon-eks-gpu-node-1.16-v20210310</li> <li>amazon-eks-gpu-node-1.15-v20210310</li> <li>amazon-eks-arm64-node-1.19-v20210310</li> <li>amazon-eks-arm64-node-1.18-v20210310</li> <li>amazon-eks-arm64-node-1.17-v20210310</li> <li>amazon-eks-arm64-node-1.16-v20210310</li> <li>amazon-eks-arm64-node-1.15-v20210310</li> <li>amazon-eks-node-1.19-v20210310</li> <li>amazon-eks-node-1.18-v20210309</li> <li>amazon-eks-node-1.17-v20210309</li> <li>amazon-eks-node-1.16-v20210309</li> <li>amazon-eks-node-1.15-v20210309</li> </ul> <p>Binaries used to build these AMIs are published : s3://amazon-eks/1.19.6/2021-01-05/ s3://amazon-eks/1.18.9/2020-11-02/ s3://amazon-eks/1.17.12/2020-11-02/ s3://amazon-eks/1.16.15/2020-11-02/ s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : - Updates Nvidia drivers to version <code>460.27.04</code> - GPU AMIs no longer uses <code>daemon.json</code> defined in https://github.com/awslabs/amazon-eks-ami/blob/master/files/docker-daemon.json</p>"},{"location":"CHANGELOG/#ami-release-v20210302","title":"AMI Release v20210302","text":"<p>GPU AMIs in this release are not compatible with any eksctl version after eksctl 0.34.0</p> <ul> <li>amazon-eks-gpu-node-1.19-v20210302</li> <li>amazon-eks-gpu-node-1.18-v20210302</li> <li>amazon-eks-gpu-node-1.17-v20210302</li> <li>amazon-eks-gpu-node-1.16-v20210302</li> <li>amazon-eks-gpu-node-1.15-v20210302</li> <li>amazon-eks-arm64-node-1.19-v20210302</li> <li>amazon-eks-arm64-node-1.18-v20210302</li> <li>amazon-eks-arm64-node-1.17-v20210302</li> <li>amazon-eks-arm64-node-1.16-v20210302</li> <li>amazon-eks-arm64-node-1.15-v20210302</li> <li>amazon-eks-node-1.19-v20210302</li> <li>amazon-eks-node-1.18-v20210302</li> <li>amazon-eks-node-1.17-v20210302</li> <li>amazon-eks-node-1.16-v20210302</li> <li>amazon-eks-node-1.15-v20210302</li> </ul> <p>Binaries used to build these AMIs are published: - s3://amazon-eks/1.19.6/2021-01-05/ - s3://amazon-eks/1.18.9/2020-11-02/ - s3://amazon-eks/1.17.12/2020-11-02/ - s3://amazon-eks/1.16.15/2020-11-02/ - s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes: - files/bootstrap.sh: ensure /etc/docker exists before writing to it (#611) - GPU AMIs now use docker <code>daemon.json</code> defined in https://github.com/awslabs/amazon-eks-ami/blob/master/files/docker-daemon.json - Patch for CVE-2021-3177 - check that nvidia-smi is configured correctly before updating GPU clocks (#613) - Fix Makefile indentation for 1.19 (#616) - Increase fs.inotify.max_user_instances to 8192 from the default of 128 (#614) - use dynamic lookup of docker gid (#622) - bump docker version to 19.03.13ce-1 (#624)</p>"},{"location":"CHANGELOG/#ami-release-v20210208","title":"AMI Release v20210208","text":"<ul> <li>amazon-eks-gpu-node-1.19-v20210208</li> <li>amazon-eks-gpu-node-1.18-v20210208</li> <li>amazon-eks-gpu-node-1.17-v20210208</li> <li>amazon-eks-gpu-node-1.16-v20210208</li> <li>amazon-eks-gpu-node-1.15-v20210208</li> <li>amazon-eks-arm64-node-1.19-v20210208</li> <li>amazon-eks-arm64-node-1.18-v20210208</li> <li>amazon-eks-arm64-node-1.17-v20210208</li> <li>amazon-eks-arm64-node-1.16-v20210208</li> <li>amazon-eks-arm64-node-1.15-v20210208</li> <li>amazon-eks-node-1.19-v20210208</li> <li>amazon-eks-node-1.18-v20210208</li> <li>amazon-eks-node-1.17-v20210208</li> <li>amazon-eks-node-1.16-v20210208</li> <li>amazon-eks-node-1.15-v20210208</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.19.6/2021-01-05/ * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * Kubernetes versions 1.19+ will now use the 5.4 Linux kernel * Patch for ALAS-2021-1588</p>"},{"location":"CHANGELOG/#ami-release-v20210125","title":"AMI Release v20210125","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20210125</li> <li>amazon-eks-gpu-node-1.17-v20210125</li> <li>amazon-eks-gpu-node-1.16-v20210125</li> <li>amazon-eks-gpu-node-1.15-v20210125</li> <li>amazon-eks-arm64-node-1.18-v20210125</li> <li>amazon-eks-arm64-node-1.17-v20210125</li> <li>amazon-eks-arm64-node-1.16-v20210125</li> <li>amazon-eks-arm64-node-1.15-v20210125</li> <li>amazon-eks-node-1.18-v20210125</li> <li>amazon-eks-node-1.17-v20210125</li> <li>amazon-eks-node-1.16-v20210125</li> <li>amazon-eks-node-1.15-v20210125</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * ARM AMIs built with m6g.large instance type (#601) * Add Support for c6gn instance type (#597) * Patch for CVE-2021-3156 (https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3156)</p>"},{"location":"CHANGELOG/#ami-release-v20210112","title":"AMI Release v20210112","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20210112</li> <li>amazon-eks-gpu-node-1.17-v20210112</li> <li>amazon-eks-gpu-node-1.16-v20210112</li> <li>amazon-eks-gpu-node-1.15-v20210112</li> <li>amazon-eks-arm64-node-1.18-v20210112</li> <li>amazon-eks-arm64-node-1.17-v20210112</li> <li>amazon-eks-arm64-node-1.16-v20210112</li> <li>amazon-eks-arm64-node-1.15-v20210112</li> <li>amazon-eks-node-1.18-v20210112</li> <li>amazon-eks-node-1.17-v20210112</li> <li>amazon-eks-node-1.16-v20210112</li> <li>amazon-eks-node-1.15-v20210112</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * Update ulimit for memlock to unlimited * Update ulimit for max_user_watches and max_file_count * Fix position of sonobuoy e2e registry config check (#590) * Update Makefile to support sonobuoy e2e registry config override (#588) * fix syntax error in install script (#582) introduced by #522 * Feature flag the cleanup of the image (#522) * Add iptables rule count to log collector * GPU Boost clock setup for performance improvement (#573) * add support for sonobuoy e2e registry overrides (#585) for MVP * ensure kubelet.service.d directory exists (#519) * (bootstrap): document pause container parameters (#556) * add SIGKILL to RestartForceExitStatus (#554) * fix containerd_version typo in Makefile (#584) * Update systemd to always restart kubelet to support dynamic kubelet configuration (#578) * Add missing instance types (#580)</p>"},{"location":"CHANGELOG/#ami-release-v20201211","title":"AMI Release v20201211","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20201211</li> <li>amazon-eks-gpu-node-1.17-v20201211</li> <li>amazon-eks-gpu-node-1.16-v20201211</li> <li>amazon-eks-gpu-node-1.15-v20201211</li> <li>amazon-eks-arm64-node-1.18-v20201211</li> <li>amazon-eks-arm64-node-1.17-v20201211</li> <li>amazon-eks-arm64-node-1.16-v20201211</li> <li>amazon-eks-arm64-node-1.15-v20201211</li> <li>amazon-eks-node-1.18-v20201211</li> <li>amazon-eks-node-1.17-v20201211</li> <li>amazon-eks-node-1.16-v20201211</li> <li>amazon-eks-node-1.15-v20201211</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * Bug fix for the issue with rngd on EKS worker ami that's built with AL2 source ami. * Bug fix for grub issue introduced by new nvidia driver * Patch for CVE-2020-1971 (https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-1971)</p>"},{"location":"CHANGELOG/#ami-release-v20201126","title":"AMI Release v20201126","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20201126</li> <li>amazon-eks-gpu-node-1.17-v20201126</li> <li>amazon-eks-gpu-node-1.16-v20201126</li> <li>amazon-eks-gpu-node-1.15-v20201126</li> <li>amazon-eks-arm64-node-1.18-v20201126</li> <li>amazon-eks-arm64-node-1.17-v20201126</li> <li>amazon-eks-arm64-node-1.16-v20201126</li> <li>amazon-eks-arm64-node-1.15-v20201126</li> <li>amazon-eks-node-1.18-v20201126</li> <li>amazon-eks-node-1.17-v20201126</li> <li>amazon-eks-node-1.16-v20201126</li> <li>amazon-eks-node-1.15-v20201126</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes :</p> <ul> <li>Containerd patch for CVE-2020-15257 (containerd-1.4.1-2)</li> </ul>"},{"location":"CHANGELOG/#ami-release-v20201117","title":"AMI Release v20201117","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20201117</li> <li>amazon-eks-gpu-node-1.17-v20201117</li> <li>amazon-eks-gpu-node-1.16-v20201117</li> <li>amazon-eks-gpu-node-1.15-v20201117</li> <li>amazon-eks-arm64-node-1.18-v20201117</li> <li>amazon-eks-arm64-node-1.17-v20201117</li> <li>amazon-eks-arm64-node-1.16-v20201117</li> <li>amazon-eks-arm64-node-1.15-v20201117</li> <li>amazon-eks-node-1.18-v20201117</li> <li>amazon-eks-node-1.17-v20201117</li> <li>amazon-eks-node-1.16-v20201117</li> <li>amazon-eks-node-1.15-v20201117</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * Bug fix #526 * GPU AMIs - Nvidia driver version update to 450.51.06, cuda version update to 11.0 * Updated kernel version to 4.14.203 and fix for soft lockup issue * Downgraded containerd version to 1.3.2 to fix pods getting stuck in the Terminating state</p>"},{"location":"CHANGELOG/#ami-release-v20201112","title":"AMI Release v20201112","text":"<ul> <li>amazon-eks-gpu-node-1.18-v20201112</li> <li>amazon-eks-gpu-node-1.17-v20201112</li> <li>amazon-eks-gpu-node-1.16-v20201112</li> <li>amazon-eks-gpu-node-1.15-v20201112</li> <li>amazon-eks-arm64-node-1.18-v20201112</li> <li>amazon-eks-arm64-node-1.17-v20201112</li> <li>amazon-eks-arm64-node-1.16-v20201112</li> <li>amazon-eks-arm64-node-1.15-v20201112</li> <li>amazon-eks-node-1.18-v20201112</li> <li>amazon-eks-node-1.17-v20201112</li> <li>amazon-eks-node-1.16-v20201112</li> <li>amazon-eks-node-1.15-v20201112</li> </ul> <p>Binaries used to build these AMIs are published : * s3://amazon-eks/1.18.9/2020-11-02/ * s3://amazon-eks/1.17.12/2020-11-02/ * s3://amazon-eks/1.16.15/2020-11-02/ * s3://amazon-eks/1.15.12/2020-11-02/</p> <p>Notable changes : * Bug fix #526 * GPU AMIs - Nvidia driver version update to 450.51.06, cuda version update to 11.0 * Updated kernel version to 4.14.203 and fix for soft lockup issue</p> <p>Note: Previous release information can be found from release note</p>"},{"location":"CHANGELOG/#ami-release-v20190927","title":"AMI Release v20190927","text":"<ul> <li>amazon-eks-node-1.14-v20190927</li> <li>amazon-eks-gpu-node-1.14-v20190927</li> <li>amazon-eks-node-1.13-v20190927</li> <li>amazon-eks-gpu-node-1.13-v20190927</li> <li>amazon-eks-node-1.12-v20190927</li> <li>amazon-eks-gpu-node-1.12-v20190927</li> <li>amazon-eks-node-1.11-v20190927</li> <li>amazon-eks-gpu-node-1.11-v20190927</li> </ul> <p>Changes: * 0f11f6c Add G4DN instance family to node group template * ade31b0 Add support for g4 instance family * d9147f1 sync nodegroup template to latest available</p>"},{"location":"CHANGELOG/#ami-release-v20190906","title":"AMI Release v20190906","text":"<ul> <li>amazon-eks-node-1.14-v20190906</li> <li>amazon-eks-gpu-node-1.14-v20190906</li> <li>amazon-eks-node-1.13-v20190906</li> <li>amazon-eks-gpu-node-1.13-v20190906</li> <li>amazon-eks-node-1.12-v20190906</li> <li>amazon-eks-gpu-node-1.12-v20190906</li> <li>amazon-eks-node-1.11-v20190906</li> <li>amazon-eks-gpu-node-1.11-v20190906</li> </ul> <p>Changes: * c1ae2f3 Adding new directory and file for 1.14 and above by removing --allow-privileged=true flag (#327) * 5335ea8 add support for me-south-1 region (#322) * c4e03c1 Update list of instance types (#320) * 389f4ba update S3_URL_BASE environment variable in install-worker.sh</p> <p>Kubernetes Changes: * Kubelet patches with HTTP2-cve * Kubelet patched with fix for https://github.com/kubernetes/kubernetes/issues/78164</p>"},{"location":"CHANGELOG/#ami-release-v20190814","title":"AMI Release v20190814","text":"<ul> <li>amazon-eks-node-1.13-v20190814</li> <li>amazon-eks-gpu-node-1.13-v20190814</li> <li>amazon-eks-node-1.13-v20190814</li> <li>amazon-eks-gpu-node-1.13-v20190814</li> <li>amazon-eks-node-1.13-v20190814</li> <li>amazon-eks-gpu-node-1.13-v20190814</li> </ul>"},{"location":"CHANGELOG/#changes","title":"Changes","text":"<ul> <li>0468404 change the amiName pattern to use minor version (#307)</li> <li>19ff806 2107 allow private ssh when building (#303)</li> <li>2b9b501 add support for ap-east-1 region (#305)</li> <li>ccae017 Fix t3a.small limit</li> <li>f409acd Add new m5 and r5 instances</li> <li>8bbf269 Add c5.12xlarge and c5.24xlarge instances</li> <li>1f83c10 refactor packer variables</li> <li>41f4dd9 Install ec2-instance-connect</li> <li>a40bd46 Added CHANGELOG for v20190701</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-113-v20190701-amazon-eks-node-112-v20190701-amazon-eks-node-111-v20190701-amazon-eks-node-110-v20190701-amazon-eks-gpu-node-113-v20190701-amazon-eks-gpu-node-112-v20190701-amazon-eks-gpu-node-111-v20190701-amazon-eks-gpu-node-110-v20190701","title":"amazon-eks-node-1.13-v20190701 | amazon-eks-node-1.12-v20190701 | amazon-eks-node-1.11-v20190701 | amazon-eks-node-1.10-v20190701 | amazon-eks-gpu-node-1.13-v20190701 | amazon-eks-gpu-node-1.12-v20190701 | amazon-eks-gpu-node-1.11-v20190701 | amazon-eks-gpu-node-1.10-v20190701","text":"<p>Note: The AMI no longer contains kubectl. If you rely on kubectl being present, you can download it from the S3 bucket <code>s3://amazon-eks/</code></p> <ul> <li>ca61cc2 remove kubectl dependency (#295)</li> <li>400dd58 Update eks-log-collector.sh URL on readme</li> <li>e4fe057 Moving log collector script to Amazon eks ami repo (#243)</li> <li>e8b50ba add changelog for 20190614</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-113-v20190614-amazon-eks-node-112-v20190614-amazon-eks-node-111-v20190614-amazon-eks-node-110-v20190614-amazon-eks-gpu-node-113-v20190614-amazon-eks-gpu-node-112-v20190614-amazon-eks-gpu-node-111-v20190614-amazon-eks-gpu-node-110-v20190614","title":"amazon-eks-node-1.13-v20190614 | amazon-eks-node-1.12-v20190614 | amazon-eks-node-1.11-v20190614 | amazon-eks-node-1.10-v20190614 | amazon-eks-gpu-node-1.13-v20190614 | amazon-eks-gpu-node-1.12-v20190614 | amazon-eks-gpu-node-1.11-v20190614 | amazon-eks-gpu-node-1.10-v20190614","text":"<p>Security Note: These AMIs contain OS(AmazonLinux2) patched for CVE-2019-11477, CVE-2019-11478, CVE-2019-11479</p> <p>Note: This release also publishes first set of worker AMIs for EKS 1.13 launch</p> <ul> <li>b1726c1 Fix issue with 1.10 build</li> <li>f2525cb Change clocksource only if using xen</li> <li>16bd031 files/kubelet: specify \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\"</li> <li>88ca2ac Retry if AWS API returns None (#274)</li> <li>6f3354a Add a docker daemon restart after custom daemon.json</li> <li>92e33a8 Making tsc the clock source (#272)</li> <li>eccfa3a Use kubernetes minor version to choose kubelet config</li> <li>32d2ac4 Update nodegroup values</li> <li>5b99e15 Add new instance types</li> <li>b061339 Restrict kubelet to only use TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 for tls cipher suites</li> <li>fe39deb add build spec for amazon's internal build process</li> <li>b5a78b9 add options to configure packer/aws binary</li> <li>ac67f2a Allow custom config for docker daemon</li> <li>ca5559a Add ARM support</li> <li>2caf69b Updated bug-report.md and question.md instructions to currently existing release info location - /etc/eks/release (#242)</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-112-v20190329-amazon-eks-node-111-v20190329-amazon-eks-node-110-v20190329","title":"amazon-eks-node-1.12-v20190329 | amazon-eks-node-1.11-v20190329 | amazon-eks-node-1.10-v20190329","text":"<p>Security Note: These AMIs contain builds of kubectl &amp; CNI patched for CVE-2019-1002101 and CVE-2019-9946</p> <p>Note: This release publishes first set of worker AMIs for EKS 1.12 launch</p> <ul> <li>77ae68a Correct version numbers in Changelog</li> <li>3e09987 Bump CNI plugin default value</li> <li>fb0c393 Update eni-max-pods.txt (#231)</li> <li>a809997 Update README with new worker AMIs published on 2019-03-27</li> <li>a038aae Added 1.12 build in Makefile (#208)</li> <li>38eb8a8 Fixed search for 10.x CIDR range</li> <li>91ed091 Updated describe-cluster retry/backoff exponential with jitter</li> <li>907df9f Updated the sleep time to seconds from milliseconds</li> <li>bc4216c Retry logic for describe cluster API call</li> <li>325f1cc Fixed regex to match 10.x in all cases</li> <li>7df0912 provide region during build</li> <li>086c6a3 Ability to provide custom ami during build</li> <li>6090f20 Updated binaries to latest releases</li> <li>04c520d Create custom kubelet config with TTL-based secret-caching</li> <li>e5e5678 Fix downloading binaries from public s3 bucket.</li> <li>ae9b7d7 Fix: mac address is returned with trailing slash which breaks CIDR call resulting in false ten range</li> <li>954d8b0 Allow pulling node binaries from private bucket (#175)</li> <li>9f20002 Removed ulimit reduction</li> <li>a052b53 changed kube-proxy log rotation from create to copytruncate</li> <li>d2c26e8 Switched to RPM install for AWS CLI</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-111-v20190220-amazon-eks-node-110-v20190220","title":"amazon-eks-node-1.11-v20190220 | amazon-eks-node-1.10-v20190220","text":"<ul> <li>c1934bb Made docker install optional</li> <li>0db49b4 Added enable-docker-bridge bootstrap argument</li> <li>5a57ab8 Increase ulimits for docker containers.</li> <li>4cf8ff5 Fix bug causing bootstrap.sh to fail for certain instance types</li> <li>42dfbd7 update docker version to 18.06</li> <li>9ac7eba Clean resolv.conf before snapshotting</li> <li>665c29d Updated changelog to clarify CVE-2019-5736</li> <li>71e5db6 Added security wording to issue templates</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-111-v20190211-amazon-eks-node-110-v20190211","title":"amazon-eks-node-1.11-v20190211 | amazon-eks-node-1.10-v20190211","text":"<p>Security Note: This AMI contains a build of Docker 17.06 that is patched for CVE-2019-5736</p> <ul> <li>71cd4b0 Updated max-pods for larger instance types</li> <li>28845f9 Allow parallel image pulls</li> <li>5cc7f41 Make it possible to set the DOCKER_VERSION and CNI_* that are used.</li> <li>dedf096 Enable live-restore capability in docker daemon</li> <li>bed1c54 Replace Path: \"/\"</li> <li>10c5285 add spacing between remaining components</li> <li>2c60058 remove superflous linebreaks</li> <li>e2f7dfa remove superflous lists</li> <li>342e387 consolidate list indentation style</li> <li>9856a22 ensure \"Description\" fields appear ealier in template</li> <li>06630cf remove default Path</li> <li>2823ba8 remove superflous quotes</li> <li>310215e Property --cgroup-root was not specified</li> <li>7d5a94b Set hairpin mode to \"hairpin-veth\"</li> <li>5479e95 disable docker0 bridge as it is not used</li> <li>491a913 add bip address from RFC5735 / RFC5737 This will reduce the number of possible conflicts to deploy on existing networks. https://tools.ietf.org/html/rfc5735 https://tools.ietf.org/html/rfc5737</li> <li>f8c117f Allow (optional) smaller EBS root volumes with container optimized AMI</li> <li>7f6c8cb Remove trailing and leading lines.</li> <li>01cfe98 Enable syncing of rtc clock in chronyd daemon.</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-111-v20190109-amazon-eks-node-110-v20190109","title":"amazon-eks-node-1.11-v20190109 | amazon-eks-node-1.10-v20190109","text":"<ul> <li>208c114 Make bootstrap script more readable</li> <li>44d18b7 Addresses #136 - set +e doesn't seem to work. Will return 0 or TEN_RANGE</li> <li>8a1d7c0 Use chrony for time and make sure it is enabled on startup. (#130)</li> <li>b46b99a Only restart on failures</li> <li>e13d401 Update kubelet.service to be resilient to crashing</li> <li>2f2401a Reversing order to make easier to read</li> <li>d1c3e0c Added 1.11 build in Makefile</li> <li>9b8dc41 Fix rendering of the readme file</li> <li>1797887 Update changelog and readme for 1.10 and 1.11 v20181210 worker nodes</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-111-v20181210-amazon-eks-node-110-v20181210","title":"amazon-eks-node-1.11-v20181210 | amazon-eks-node-1.10-v20181210","text":"<ul> <li>87a2aec Added GitHub issue templates</li> <li>95138f1 Simplified ASG Update parameters</li> <li>31f7d62 Swap order of <code>sed</code> and <code>kubectl config</code></li> <li>9ad6e2a Add back the allow-privileged kubelet flag</li> <li>0bf1109 Added serverTLSBootstrap to kubelet config file</li> <li>a5492b2 Added node ASG update policy parameters</li> <li>b7015a6 Remove deprecated flags that use default values</li> <li>d5a6437 Docker config should be owned by root</li> <li>c281f32 Adding mkdir command</li> <li>90c5eae Adding simple dockerd config file to rotate logs from containers</li> <li>01090f8 Gracefully handle unknown instance types</li> <li>68e7a62 Added AMI metadata file</li> <li>c0110a7 Reverted max-pod updates and instance types</li> <li>90d5209 Correctly select kube-DNS address for secondary CIDR VPC instances</li> <li>f7b7f6c Updated kubelet config file location</li> <li>8ff10f2 Updated instance types and eni counts</li> <li>67053cf Modifying kubelet to use config files instead of kubelet flags which are about to deprecate. (#90)</li> <li>6a20fb1 Add max pods information for g3s.xlarge instances</li> <li>a16af46 kubelet config files should be owned by root</li> <li>f27bc2e Update eni-max-pods.txt</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-v25","title":"amazon-eks-node-v25","text":"<ul> <li>45a12de Fix kube-proxy logrotate (#68)</li> <li>742df5e Change make targets to be .PHONY (#59)</li> <li>eb0239f Add NodeSecurityGroup to outputs. (#58)</li> <li>7219545 Only add max-pods for a known instance type (#57)</li> </ul> <p>Note: CNI &gt;= 1.2.1 is required for t3 and r5 instance support.</p>"},{"location":"CHANGELOG/#amazon-eks-node-v24","title":"amazon-eks-node-v24","text":"<ul> <li>9cda183 Scrub temporary build-time keypair (#48)</li> <li>9578a45 remove packer key before shutdown (#43)</li> <li>cb86cc4 Move source_ami_filter owner to owners (#44)</li> <li>4edeb0c Added /var/log/journal to build  (#40)</li> <li>624bac1 Add support for KMS encryption - disabled by default (#33)</li> <li>586cac2 Add validation for CNI and CNI Plugins downloads - fixes #37 (#38)</li> <li>30617f4 Added back previous CloudFormation version in table (#35)</li> <li>b2f9656 Allow communication on TCP:443 from EKS Cluster to Worker nodes (#34)</li> <li>72184ce Adding support New instance types (#31)</li> <li>614d48c Added changelog for 8-21-18 release (#24)</li> </ul>"},{"location":"CHANGELOG/#amazon-eks-node-v23","title":"amazon-eks-node-v23","text":"<ul> <li>ddaaa79 Add ability to modify node root volume size (#20)</li> <li>0c7bd35 Added bootstrap args as a CloudFormation parameter (#23)</li> <li>9736e73 Make sure ntp is installed and enabled (#18)</li> <li>5ef02c9 Updated EKS AMI with bootstrap script (#16)</li> </ul>"},{"location":"CHANGELOG/#eks-worker-v22","title":"eks-worker-v22","text":"<ul> <li>Foreshadow update https://alas.aws.amazon.com/AL2/ALAS-2018-1058.html</li> </ul>"},{"location":"CHANGELOG/#eks-worker-v21","title":"eks-worker-v21","text":"<ul> <li>SegmentSmack update https://alas.aws.amazon.com/AL2/ALAS-2018-1050.html</li> </ul>"},{"location":"CHANGELOG/#eks-worker-v20","title":"eks-worker-v20","text":"<ul> <li>EKS Launch AMI</li> </ul>"},{"location":"CODE_OF_CONDUCT/","title":"Code of Conduct","text":""},{"location":"CODE_OF_CONDUCT/#code-of-conduct","title":"Code of Conduct","text":"<p>This project has adopted the Amazon Open Source Code of Conduct. For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments.</p>"},{"location":"CONTRIBUTING/","title":"Contributing Guidelines","text":"<p>Thank you for your interest in contributing to our project. Whether it's a bug report, new feature, correction, or additional documentation, we greatly value feedback and contributions from our community.</p> <p>Please read through this document before submitting any issues or pull requests to ensure we have all the necessary information to effectively respond to your bug report or contribution.</p>"},{"location":"CONTRIBUTING/#reporting-bugsfeature-requests","title":"Reporting Bugs/Feature Requests","text":"<p>We welcome you to use the GitHub issue tracker to report bugs or suggest features.</p> <p>When filing an issue, please check existing open, or recently closed, issues to make sure somebody else hasn't already reported the issue. Please try to include as much information as you can. Details like these are incredibly useful:</p> <ul> <li>A reproducible test case or series of steps</li> <li>The version of our code being used</li> <li>Any modifications you've made relevant to the bug</li> <li>Anything unusual about your environment or deployment</li> </ul>"},{"location":"CONTRIBUTING/#contributing-via-pull-requests","title":"Contributing via Pull Requests","text":"<p>Contributions via pull requests are much appreciated. Before sending us a pull request, please ensure that:</p> <ol> <li>You are working against the latest source on the master branch.</li> <li>You check existing open, and recently merged, pull requests to make sure someone else hasn't addressed the problem already.</li> <li>You open an issue to discuss any significant work - we would hate for your time to be wasted.</li> </ol> <p>To send us a pull request, please:</p> <ol> <li>Fork the repository.</li> <li>Modify the source; please focus on the specific change you are contributing. If you also reformat all the code, it will be hard for us to focus on your change.</li> <li>Ensure your changes match our style guide (<code>make fmt</code>).</li> <li>Ensure local tests pass (<code>make test</code>).</li> <li>Commit to your fork using clear commit messages.</li> <li>Send us a pull request, answering any default questions in the pull request interface.</li> <li>Pay attention to any automated CI failures reported in the pull request, and stay involved in the conversation.</li> </ol> <p>GitHub provides additional document on forking a repository and creating a pull request.</p>"},{"location":"CONTRIBUTING/#testing-changes","title":"Testing Changes","text":"<p>When submitting PRs, we want to verify that there are no regressions in the AMI with the new changes. EKS runs various tests before publishing new Amazon EKS optimized Amazon Linux AMIs, which will ensure the highest level of confidence that there are no regressions in officially published AMIs. To maintain the health of this repo, we need to do some basic validation prior to merging PRs. Eventually, we hope to automate this process. Until then, here are the basic steps that we should take before merging PRs.</p> <p>Test #1: Verify that the unit tests pass</p> <p>Please add a test case for your changes, if possible. See the unit test README for more information. These tests will be run automatically for every pull request.</p> <pre><code>make test\n</code></pre> <p>Test #2: Verify that building AMIs still works</p> <p>If your change is relevant to a specific Kubernetes version, build all AMIs that apply. Otherwise, just choose the latest available Kubernetes version.</p> <pre><code># Configure AWS credentials\nmake 1.22\n</code></pre> <p>Test #3: Create a nodegroup with new AMI and confirm it joins a cluster</p> <p>Once the AMI is built, we need to verify that it can join a cluster. You can use <code>eksctl</code>, or your method of choice, to create a cluster and add nodes to it using the AMI you built. Below is an example config file.</p> <p><code>cluster.yaml</code></p> <pre><code>apiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\n\nmetadata:\n  name: basic-cluster\n  region: us-west-2\n  version: '1.22'\n\nnodeGroups:\n  - name: ng\n    instanceType: m5.large\n    ami: [INSERT_AMI_ID]\n    overrideBootstrapCommand: |\n      #!/bin/bash\n      /etc/eks/bootstrap.sh basic-cluster\n</code></pre> <p>Then run:</p> <pre><code>eksctl create cluster -f cluster.yaml\n</code></pre> <p><code>eksctl</code> will verify that the nodes join the cluster before completing.</p> <p>Test #4: Verify that the nodes are Kubernetes conformant</p> <p>You can use sonobuoy to run conformance tests on the cluster you've create in Test #2. You should only include nodes with the custom AMI built in Test #1. You must install <code>sonobuoy</code> locally before running.</p> <pre><code>sonobuoy run --wait\n</code></pre> <p>By default, <code>sonobuoy</code> will run <code>e2e</code> and <code>systemd-logs</code>. This step may take multiple hours to run.</p> <p>Test #5: [Optional] Test your specific PR changes</p> <p>If your PR has changes that require additional, custom validation, provide the appropriate steps to verify that the changes don't cause regressions and behave as expected. Document the steps taken in the CR.</p> <p>Clean Up</p> <p>Delete the cluster:</p> <pre><code>eksctl delete cluster -f cluster.yaml\n</code></pre>"},{"location":"CONTRIBUTING/#troubleshooting","title":"Troubleshooting","text":"<p>Tests fail with <code>realpath: command not found</code></p> <p>When running <code>make test</code>, you may see a message like below:</p> <pre><code>test/test-harness.sh: line 41: realpath: command not found\n/entrypoint.sh: line 13: /test.sh: No such file or directory\n</code></pre> <p>The issue is discussed in this StackExchange post.</p> <p>On OSX, running <code>brew install coreutils</code> resolves the issue.</p>"},{"location":"CONTRIBUTING/#finding-contributions-to-work-on","title":"Finding contributions to work on","text":"<p>Looking at the existing issues is a great way to find something to contribute on. As our projects, by default, use the default GitHub issue labels ((enhancement/bug/duplicate/help wanted/invalid/question/wontfix), looking at any 'help wanted' issues is a great place to start.</p>"},{"location":"CONTRIBUTING/#code-of-conduct","title":"Code of Conduct","text":"<p>This project has adopted the Amazon Open Source Code of Conduct. For more information see the Code of Conduct FAQ or contact opensource-codeofconduct@amazon.com with any additional questions or comments.</p>"},{"location":"CONTRIBUTING/#security-issue-notifications","title":"Security issue notifications","text":"<p>If you discover a potential security issue in this project we ask that you notify AWS/Amazon Security via our vulnerability reporting page. Please do not create a public github issue.</p>"},{"location":"CONTRIBUTING/#licensing","title":"Licensing","text":"<p>See the LICENSE file for our project's licensing. We will ask you to confirm the licensing of your contribution.</p> <p>We may ask you to sign a Contributor License Agreement (CLA) for larger changes.</p>"},{"location":"USER_GUIDE/","title":"User Guide","text":"<p>This document includes details about using the AMI template and the resulting AMIs.</p>"},{"location":"USER_GUIDE/#ami-template-variables","title":"AMI template variables","text":"<p>Default values for most variables are defined in a default variable file.</p> <p>Users have the following options for specifying their own values:</p> <ol> <li>Provide a variable file with the <code>PACKER_VARIABLE_FILE</code> argument to <code>make</code>. Values in this file will override values in the default variable file. Your variable file does not need to include all possible variables, as it will be merged with the default variable file.</li> <li>Pass a key-value pair for any template variable to <code>make</code>. These values will override any values that were specified with the first method. In the table below, these variables have a default value of None.</li> </ol> <p>Note Some variables (such as <code>arch</code> and <code>kubernetes_version</code>) do not have a sensible, static default, and are satisfied by the Makefile. Such variables do not appear in the default variable file, and must be overridden (if necessary) by the second method described above.</p> Variable Default value Description <code>additional_yum_repos</code> <code>\"\"</code> <code>ami_component_description</code> <code>(k8s: {{ user `kubernetes_version` }}, docker: {{ user `docker_version` }}, containerd: {{ user `containerd_version` }})</code> <code>ami_description</code> <code>EKS Kubernetes Worker AMI with AmazonLinux2 image</code> <code>ami_name</code> None <code>ami_regions</code> <code>\"\"</code> <code>ami_users</code> <code>\"\"</code> <code>arch</code> None <code>associate_public_ip_address</code> <code>\"\"</code> <code>aws_access_key_id</code> <code>{{env `AWS_ACCESS_KEY_ID`}}</code> <code>aws_region</code> <code>us-west-2</code> <code>aws_secret_access_key</code> <code>{{env `AWS_SECRET_ACCESS_KEY`}}</code> <code>aws_session_token</code> <code>{{env `AWS_SESSION_TOKEN`}}</code> <code>binary_bucket_name</code> <code>amazon-eks</code> <code>binary_bucket_region</code> <code>us-west-2</code> <code>cache_container_images</code> <code>false</code> <code>cni_plugin_version</code> <code>v1.2.0</code> <code>containerd_version</code> <code>1.7.*</code> <code>creator</code> <code>{{env `USER`}}</code> <code>docker_version</code> <code>20.10.*</code> <code>encrypted</code> <code>false</code> <code>enable_fips</code> <code>false</code> Install openssl and enable fips related kernel parameters <code>instance_type</code> None <code>kernel_version</code> <code>\"\"</code> <code>kms_key_id</code> <code>\"\"</code> <code>kubernetes_build_date</code> None <code>kubernetes_version</code> None <code>launch_block_device_mappings_volume_size</code> <code>4</code> <code>pause_container_version</code> <code>3.5</code> <code>pull_cni_from_github</code> <code>true</code> <code>remote_folder</code> <code>/tmp</code> Directory path for shell provisioner scripts on the builder instance <code>runc_version</code> <code>1.1.*</code> <code>security_group_id</code> <code>\"\"</code> <code>source_ami_filter_name</code> <code>amzn2-ami-minimal-hvm-*</code> <code>source_ami_id</code> <code>\"\"</code> <code>source_ami_owners</code> <code>137112412989</code> <code>ssh_interface</code> <code>\"\"</code> <code>ssh_username</code> <code>ec2-user</code> <code>ssm_agent_version</code> <code>\"\"</code> Version of the SSM agent to install from the S3 bucket provided by the SSM agent project, such as <code>latest</code>. If empty, the latest version of the SSM agent available in the Amazon Linux core repositories will be installed. <code>subnet_id</code> <code>\"\"</code> <code>temporary_security_group_source_cidrs</code> <code>\"\"</code> <code>volume_type</code> <code>gp2</code> <code>working_dir</code> <code>{{user `remote_folder`}}/worker</code> Directory path for ephemeral resources on the builder instance"},{"location":"USER_GUIDE/#choosing-kubernetes-binaries","title":"Choosing Kubernetes binaries","text":"<p>When building the AMI, binaries such as <code>kubelet</code>, <code>aws-iam-authenticator</code>, and <code>ecr-credential-provider</code> are installed.</p>"},{"location":"USER_GUIDE/#using-the-latest-binaries","title":"Using the latest binaries","text":"<p>It is recommended that the latest available binaries are used, as they may contain important fixes for bugs or security issues. The latest binaries can be discovered with the following script:</p> <pre><code>hack/latest-binaries.sh $KUBERNETES_MINOR_VERSION\n</code></pre> <p>This script will return the values for the binary-related AMI template variables, for example:</p> <pre><code>&gt; hack/latest-binaries.sh 1.28\n\nkubernetes_version=1.28.1 kubernetes_build_date=2023-10-01\n</code></pre>"},{"location":"USER_GUIDE/#using-a-specific-version-of-the-binaries","title":"Using a specific version of the binaries","text":"<p>Use the following commands to obtain values for the binary-related AMI template variables:</p> <pre><code># List Kubernetes versions\naws s3 ls s3://amazon-eks\n\n# List build dates\naws s3 ls s3://amazon-eks/1.23.9/\n\n# List platforms\naws s3 ls s3://amazon-eks/1.23.9/2022-07-27/bin/\n\n# List architectures\naws s3 ls s3://amazon-eks/1.23.9/2022-07-27/bin/linux/\n\n# List binaries\naws s3 ls s3://amazon-eks/1.23.9/2022-07-27/bin/linux/x86_64/\n</code></pre> <p>To build using the example binaries above:</p> <pre><code>make k8s \\\n  kubernetes_version=1.23.9 \\\n  kubernetes_build_date=2022-07-27 \\\n  arch=x86_64\n</code></pre>"},{"location":"USER_GUIDE/#providing-your-own-binaries","title":"Providing your own binaries","text":"<p>By default, binaries are downloaded from the public S3 bucket <code>amazon-eks</code> in <code>us-west-2</code>. You can instead provide your own version of Kubernetes binaries.</p> <p>To use your own binaries:</p> <ol> <li>Copy all of the necessary binaries to your own S3 bucket using the AWS CLI. For example:</li> </ol> <pre><code> aws s3 cp kubelet s3://$BUCKET/$KUBERNETES_VERSION/$KUBERNETES_BUILD_DATE/bin/linux/$ARCH/kubelet\n</code></pre> <p>Important: You must provide all the binaries present in the default <code>amazon-eks</code> bucket for a specific <code>KUBERNETES_VERSION</code>, <code>KUBERNETES_BUILD_DATE</code>, and <code>ARCH</code> combination. These binaries must be accessible using the credentials on the Packer builder EC2 instance.</p> <ol> <li>Run the following command to start the build process to use your own Kubernetes binaries:</li> </ol> <pre><code>make k8s \\\n  binary_bucket_name=my-custom-bucket \\\n  binary_bucket_region=eu-west-1 \\\n  kubernetes_version=1.14.9 \\\n  kubernetes_build_date=2020-01-22\n</code></pre> <p>Note: Confirm that the binary_bucket_name, binary_bucket_region, kubernetes_version, and kubernetes_build_date parameters match the path to your binaries in Amazon S3.</p>"},{"location":"USER_GUIDE/#container-image-caching","title":"Container Image Caching","text":"<p>Optionally, some container images can be cached during the AMI build process in order to reduce the latency of the node getting to a <code>Ready</code> state when launched.</p> <p>To turn on container image caching:</p> <pre><code>cache_container_images=true make 1.23\n</code></pre> <p>When container image caching is enabled, the following images are cached:  - 602401143452.dkr.ecr..amazonaws.com/eks/kube-proxy:-eksbuild.  - 602401143452.dkr.ecr..amazonaws.com/eks/kube-proxy:-minimal-eksbuild.  - 602401143452.dkr.ecr..amazonaws.com/eks/pause:3.5  - 602401143452.dkr.ecr..amazonaws.com/amazon-k8s-cni-init:  - 602401143452.dkr.ecr..amazonaws.com/amazon-k8s-cni: <p>The account ID can be different depending on the region and partition you are building the AMI in. See here for more details.</p> <p>Since the VPC CNI is not versioned with K8s itself, the latest version of the VPC CNI and the default version, based on the response from the EKS DescribeAddonVersions at the time of the AMI build, will be cached.</p> <p>The images listed above are also tagged with each region in the partition the AMI is built in, since images are often built in one region and copied to others within the same partition. Images that are available to pull from an ECR FIPS endpoint are also tagged as such (i.e. <code>602401143452.dkr.ecr-fips.us-east-1.amazonaws.com/eks/pause:3.5</code>).</p> <p>When listing images on a node, you'll notice a long list of images. However, most of these images are simply tagged in different ways with no storage overhead. Images cached in the AMI total around 1.0 GiB. In general, a node with no images cached using the VPC CNI will use around 500 MiB of images when in a <code>Ready</code> state with no other pods running on the node.</p>"},{"location":"USER_GUIDE/#iam-permissions","title":"IAM Permissions","text":"<p>To build the EKS Optimized AMI, you will need the following permissions:</p> <pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:AttachVolume\",\n                \"ec2:AuthorizeSecurityGroupIngress\",\n                \"ec2:CopyImage\",\n                \"ec2:CreateImage\",\n                \"ec2:CreateKeypair\",\n                \"ec2:CreateSecurityGroup\",\n                \"ec2:CreateSnapshot\",\n                \"ec2:CreateTags\",\n                \"ec2:CreateVolume\",\n                \"ec2:DeleteKeyPair\",\n                \"ec2:DeleteSecurityGroup\",\n                \"ec2:DeleteSnapshot\",\n                \"ec2:DeleteVolume\",\n                \"ec2:DeregisterImage\",\n                \"ec2:DescribeImageAttribute\",\n                \"ec2:DescribeImages\",\n                \"ec2:DescribeInstances\",\n                \"ec2:DescribeInstanceStatus\",\n                \"ec2:DescribeRegions\",\n                \"ec2:DescribeSecurityGroups\",\n                \"ec2:DescribeSnapshots\",\n                \"ec2:DescribeSubnets\",\n                \"ec2:DescribeTags\",\n                \"ec2:DescribeVolumes\",\n                \"ec2:DetachVolume\",\n                \"ec2:GetPasswordData\",\n                \"ec2:ModifyImageAttribute\",\n                \"ec2:ModifyInstanceAttribute\",\n                \"ec2:ModifySnapshotAttribute\",\n                \"ec2:RegisterImage\",\n                \"ec2:RunInstances\",\n                \"ec2:StopInstances\",\n                \"ec2:TerminateInstances\",\n                \"eks:DescribeAddonVersions\",\n                \"ecr:GetAuthorizationToken\"\n            ],\n            \"Resource\": \"*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecr:BatchGetImage\",\n                \"ecr:BatchCheckLayerAvailability\",\n                \"ecr:GetDownloadUrlForLayer\"\n            ],\n            \"Resource\": \"arn:aws:ecr:us-west-2:602401143452:repository/*\"\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:GetObject\"\n            ],\n            \"Resource\": \"arn:aws:s3:::amazon-eks/*\"\n        }\n    ]\n}\n</code></pre> <p>You will need to use the region you are building the AMI in to specify the ECR repository resource in the second IAM statement. You may also need to change the account if you are building the AMI in a different partition or special region. You can see a mapping of regions to account ID here. If you're using a custom s3 bucket to vend different K8s binaries, you will need to change the resource in the third IAM statement above to reference your custom bucket. For more information about the permissions required by Packer with different configurations, see the docs.</p>"},{"location":"USER_GUIDE/#customizing-kubelet-config","title":"Customizing Kubelet Config","text":"<p>In some cases, customers may want to customize the kubelet configuration on their nodes, and there are two mechanisms to do that with the EKS Optimized AMI.</p> <p>Set the \"--kubelet-extra-args\" flag when invoking bootstrap.sh</p> <p><code>bootstrap.sh</code>, the script that bootstraps nodes when using the EKS Optimized AMI, supports a flag called <code>--kubelet-extra-args</code> that allows you to pass in additional <code>kubelet</code> configuration. If you invoke the bootstrap script yourself (self-managed nodegroups or EKS managed nodegroups with custom AMIs), you can use that to customize your configuration. For example, you can use something like the following in your userdata:</p> <pre><code>/etc/eks/bootstrap.sh my-cluster --kubelet-extra-args '--registry-qps=20 --registry-burst=40'\n</code></pre> <p>In this case, it will set <code>registryPullQPS</code> to 20 and <code>registryBurst</code> to 40 in <code>kubelet</code>. Some of the flags, like the ones above, are marked as deprecated and you're encouraged to set them in the <code>kubelet</code> config file (described below), but they continue to work as of 1.23.</p> <p>Update the kubelet config file</p> <p>You can update the <code>kubelet</code> config file directly with new configuration. On EKS Optimized AMIs, the file is stored at <code>/etc/kubernetes/kubelet/kubelet-config.json</code>. It must be valid JSON. You can use a utility like <code>jq</code> (or your tool of choice) to edit the config in your user data:</p> <pre><code>echo \"$(jq \".registryPullQPS=20 | .registryBurst=40\" /etc/kubernetes/kubelet/kubelet-config.json)\" &gt; /etc/kubernetes/kubelet/kubelet-config.json\n</code></pre> <p>There are a couple of important caveats here:</p> <ol> <li>If you update the <code>kubelet</code> config file after <code>kubelet</code> has already started (i.e. <code>bootstrap.sh</code> already ran), you'll need to restart <code>kubelet</code> to pick up the latest configuration.</li> <li>bootstrap.sh does modify a few fields, like <code>kubeReserved</code> and <code>evictionHard</code>, so you'd need to modify the config after the bootstrap script is run and restart <code>kubelet</code> to overwrite those properties.</li> </ol> <p>View active kubelet config</p> <p>When <code>kubelet</code> starts up, it logs all possible flags, including unset flags. The unset flags get logged with default values. These logs do not necessarily reflect the actual active configuration. This has caused confusion in the past when customers have configured the <code>kubelet</code> config file with one value and notice the default value is logged. Here is an example of the referenced log:</p> <pre><code>Aug 16 21:53:49 ip-192-168-92-220.us-east-2.compute.internal kubelet[3935]: I0816 21:53:49.202824    3935 flags.go:59] FLAG: --registry-burst=\"10\"\nAug 16 21:53:49 ip-192-168-92-220.us-east-2.compute.internal kubelet[3935]: I0816 21:53:49.202829    3935 flags.go:59] FLAG: --registry-qps=\"5\"\n</code></pre> <p>To view the actual <code>kubelet</code> config on your node, you can use the Kubernetes API to confirm that your configuration has applied.</p> <pre><code>$ kubectl proxy\n$ curl -sSL \"http://localhost:8001/api/v1/nodes/ip-192-168-92-220.us-east-2.compute.internal/proxy/configz\" | jq\n\n{\n  \"kubeletconfig\": {\n    ...\n    \"registryPullQPS\": 20,\n    \"registryBurst\": 40,\n    ...\n  }\n}\n</code></pre>"},{"location":"USER_GUIDE/#al2-and-linux-kernel-information","title":"AL2 and Linux Kernel Information","text":"<p>By default, the <code>amazon-eks-ami</code> uses a source_ami_filter that selects the latest hvm AL2 AMI for the given architecture as the base AMI. For more information on what kernel versions are running on published Amazon EKS optimized Linux AMIs, see the public documentation.</p> <p>When building an AMI, you can set <code>kernel_version</code> to customize the kernel version. Valid values are: - <code>4.14</code> - <code>5.4</code> - <code>5.10</code></p> <p>If <code>kernel_version</code> is not set: - For Kubernetes 1.23 and below, <code>5.4</code> is used. - For Kubernetes 1.24 and above, <code>5.10</code> is used.</p> <p>The upgrade_kernel.sh script contains the logic for updating and upgrading the kernel.</p>"},{"location":"USER_GUIDE/#updating-known-instance-types","title":"Updating known instance types","text":"<p><code>files/bootstrap.sh</code> configures the maximum number of pods on a node based off of the number of ENIs available, which is determined by the instance type. Larger instances generally have more ENIs. The number of ENIs limits how many IPV4 addresses are available on an instance, and we need one IP address per pod. You can see this file for the code that calculates the max pods for more information.</p> <p>To add support for new instance types, at a minimum, we need to update <code>files/eni-max-pods.txt</code> using the amazon-vpc-cni-k8s package. to set the number of max pods available for those instance types. If the instance type is not on the list, <code>bootstrap.sh</code> will fail when the node is started.</p> <pre><code>$ git clone git@github.com:aws/amazon-vpc-cni-k8s.git\n\n# AWS credentials required at this point\n$ make generate-limits\n# misc/eni-max-pods.txt should be generated\n\n# Copy the generated file to this repo, something like this:\n$ cp misc/eni-max-pods.txt ../amazon-eks-ami/files/\n\n# Verify that expected types were added\n$ git diff\n</code></pre> <p>At this point, you can build an AMI and it will include the updated list of instance types.</p>"},{"location":"USER_GUIDE/#version-locked-packages","title":"Version-locked packages","text":"<p>Some packages are critical for correct, performant behavior of a Kubernetes node; such as: - <code>kernel</code> - <code>containerd</code> - <code>runc</code></p> <p>Note This is not an exhaustive list. The complete list of locked packages is available with <code>yum versionlock list</code>.</p> <p>As a result, these packages should generally be modified within the bounds of a managed process that gracefully handles failures and prevents disruption to the cluster's workloads.</p> <p>To prevent unintentional changes, the yum-versionlock plugin is used on these packages.</p> <p>If you wish to modify a locked package, you can:</p> <pre><code># unlock a single package\nsudo yum versionlock delete $PACKAGE_NAME\n\n# unlock all packages\nsudo yum versionlock clear\n</code></pre>"},{"location":"USER_GUIDE/#image-credential-provider-plugins","title":"Image credential provider plugins","text":"<p>Prior to Kubernetes 1.27, the <code>kubelet</code> could obtain credentials for ECR out of the box. This legacy credential process has been removed in Kubernetes 1.27, and ECR credentials should now be obtained via a plugin, the <code>ecr-credential-provider</code>. This plugin is installed in the AMI at <code>/etc/eks/image-credential-provider/ecr-credential-provider</code>. More information about this plugin is available in the <code>cloud-provider-aws</code> documentation.</p> <p>Additional image credential provider plugins may be appended to <code>/etc/eks/image-credential-provider/config.json</code>. In Kubernetes versions 1.26 and below, all plugins in this file must support <code>credentialprovider.kubelet.k8s.io/v1alpha1</code>. In Kubernetes versions 1.27 and above, they must support <code>credentialprovider.kubelet.k8s.io/v1</code>.</p> <p>For more information about image credential provider plugins, refer to the Kubernetes documentation.</p>"},{"location":"USER_GUIDE/#ephemeral-storage","title":"Ephemeral Storage","text":"<p>Some instance types launch with ephemeral NVMe instance storage (i3, i4i, c5d, c6id, etc). There are two main ways of utilizing this storage within Kubernetes: a single RAID-0 array for use by kubelet and containerd or mounting the individual disks for pod usage.</p> <p>The EKS Optimized AMI includes a utility script to configure ephemeral storage. The script can be invoked by passing the <code>--local-disks &lt;raid0 | mount&gt;</code> flag to the <code>/etc/eks/bootstrap.sh</code> script or the script can be invoked directly at <code>/bin/setup-local-disks</code>. All disks are formatted with an XFS file system.</p> <p>Below are details on the two disk setup options:</p>"},{"location":"USER_GUIDE/#raid-0-for-kubelet-and-containerd-raid0","title":"RAID-0 for Kubelet and Containerd (raid0)","text":"<p>A RAID-0 array is setup that includes all ephemeral NVMe instance storage disks. The containerd and kubelet state directories (<code>/var/lib/containerd</code> and <code>/var/lib/kubelet</code>) will then use the ephemeral storage for more and faster node ephemeral-storage. The node's ephemeral storage can be shared among pods that request ephemeral storage and container images that are downloaded to the node.</p>"},{"location":"USER_GUIDE/#mount-for-persistent-volumes-mount","title":"Mount for Persistent Volumes (mount)","text":"<p>Another way of utilizing the ephemeral disks is to format and mount the individual disks. Mounting individual disks allows the local-static-provisioner DaemonSet to create Persistent Volume Claims that pods can utilize.</p>"}]}